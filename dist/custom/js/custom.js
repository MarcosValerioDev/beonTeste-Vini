(()=>{var t={273:(t,e,i)=>{var o=i(118),n=i(754),s=n;s.v1=o,s.v4=n,t.exports=s},122:t=>{for(var e=[],i=0;i<256;++i)e[i]=(i+256).toString(16).substr(1);t.exports=function(t,i){var o=i||0,n=e;return[n[t[o++]],n[t[o++]],n[t[o++]],n[t[o++]],"-",n[t[o++]],n[t[o++]],"-",n[t[o++]],n[t[o++]],"-",n[t[o++]],n[t[o++]],"-",n[t[o++]],n[t[o++]],n[t[o++]],n[t[o++]],n[t[o++]],n[t[o++]]].join("")}},287:t=>{var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var i=new Uint8Array(16);t.exports=function(){return e(i),i}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},118:(t,e,i)=>{var o,n,s=i(287),r=i(122),a=0,c=0;t.exports=function(t,e,i){var d=e&&i||0,p=e||[],u=(t=t||{}).node||o,h=void 0!==t.clockseq?t.clockseq:n;if(null==u||null==h){var l=s();null==u&&(u=o=[1|l[0],l[1],l[2],l[3],l[4],l[5]]),null==h&&(h=n=16383&(l[6]<<8|l[7]))}var m=void 0!==t.msecs?t.msecs:(new Date).getTime(),f=void 0!==t.nsecs?t.nsecs:c+1,g=m-a+(f-c)/1e4;if(g<0&&void 0===t.clockseq&&(h=h+1&16383),(g<0||m>a)&&void 0===t.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=m,c=f,n=h;var y=(1e4*(268435455&(m+=122192928e5))+f)%4294967296;p[d++]=y>>>24&255,p[d++]=y>>>16&255,p[d++]=y>>>8&255,p[d++]=255&y;var v=m/4294967296*1e4&268435455;p[d++]=v>>>8&255,p[d++]=255&v,p[d++]=v>>>24&15|16,p[d++]=v>>>16&255,p[d++]=h>>>8|128,p[d++]=255&h;for(var w=0;w<6;++w)p[d+w]=u[w];return e||r(p)}},754:(t,e,i)=>{var o=i(287),n=i(122);t.exports=function(t,e,i){var s=e&&i||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var a=0;a<16;++a)e[s+a]=r[a];return e||n(r)}},877:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var o=i(178),n=function(t,e){return this.root=t,this.options={tick:!1,ended:!1,urgent:!1,live:!1},this.config=Object.assign({type:"dates",interval:null,start_date:null,end_date:null,urgent_date:null,headline:"",support_text:"",hideOnEnd:!1,aggregateDays:!1},e),this.dates={now:null,start:null,end:null,urgent:null},this.fragments={d:null,H:null,i:null,s:null},this.interval=null,this.init(),this};n.prototype.init=function(){o.addClass(this.root,"initialized"),this.initDates(),this.initFragments(),this.initClock(),this.start()},n.prototype.initDates=function(){if(this.dates.now=new Date,"dates"===this.config.type&&(this.dates.start=new Date(this.config.start_date),this.dates.end=new Date(this.config.end_date),this.dates.urgent=new Date(this.config.urgent_date)),"relative"===this.config.type){var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0);var e=new Date;e.setHours(23),e.setMinutes(59),e.setSeconds(59),this.dates.start=new Date(t),this.dates.end=new Date(e),this.dates.urgent=new Date(e)}if("interval"===this.config.type&&this.config.interval){var i,o,n=["bn",this.root.id].join("-"),s=("; "+document.cookie).split(n+"="),r=2===s.length?s.pop().split(";").shift():null;if(r){var a=r.split("/");i=new Date(parseInt(a[0],10)),o=new Date(parseInt(a[1],10))}else i=new Date,o=new Date(Date.now()+60*this.config.interval*1e3),document.cookie=n+"="+[i.getTime(),o.getTime()].join("/")+"; SameSite=Lax; path=/";this.dates.start=new Date(i),this.dates.end=new Date(o),this.dates.urgent=new Date(o)}this.options.live=!0,this.notStartedYet()?(this.options.tick=!1,this.options.live=!1,this.hideAssociate("not-started"),this.hide()):this.limitReached()&&(this.options.tick=!1,this.options.ended=!0,this.hideOnEnd())},n.prototype.initFragments=function(){this.fragments={d:this.root.querySelector(".beon-clock__fragment-d, .bn-clock__frag-d"),H:this.root.querySelector(".beon-clock__fragment-H, .bn-clock__frag-H"),i:this.root.querySelector(".beon-clock__fragment-i, .bn-clock__frag-i"),s:this.root.querySelector(".beon-clock__fragment-s, .bn-clock__frag-s")},this.config.aggregateDays&&(o.addClass(this.root,"beon-clock--without-days"),this.fragments.d.style.display="none")},n.prototype.initClock=function(){this.updateFragments()},n.prototype.diff=function(t,e){var i,o,n;return n={d:0,H:0,i:0,s:0},this.limitReached()?(this.end(),this.dates.diff=n,n):((i=t.getTime()-e.getTime())>0&&(o=i/1e3,n.d=Math.floor(o/86400),n.H=Math.floor((o-86400*n.d)/3600),n.i=Math.floor((o-86400*n.d-3600*n.H)/60),n.s=Math.floor(o-86400*n.d-3600*n.H-60*n.i),this.config.aggregateDays&&(n.H=n.H+24*n.d,n.d=0)),this.dates.diff=n,n)},n.prototype.notStartedYet=function(){var t=this.dates.now.getTime()/1e3+100;return this.dates.start.getTime()/1e3>t},n.prototype.limitReached=function(){return this.dates.now.getTime()>this.dates.end.getTime()},n.prototype.updateNow=function(){this.dates.now=new Date},n.prototype.urgentReached=function(){return this.dates.urgent?this.dates.now.getTime()>this.dates.urgent.getTime():0},n.prototype.updateFragments=function(){for(var t=Object.entries(this.diff(this.dates.end,this.dates.now)),e=0;e<t.length;e++){var[i,o]=t[e];this.setFragment(i,o)}},n.prototype.setFragment=function(t,e){var i;i=this.config.aggregateDays&&"H"===t||!this.config.aggregateDays&&"d"===t?e.toString().length<=2?this.pad(e,2,"0"):e:this.pad(e,2,"0"),this.fragments[t].innerText=i},n.prototype.tick=function(){if(!this.options.tick)return this.stop();this.updateNow(),this.updateFragments(),!this.options.urgent&&this.urgentReached()&&this.urgent(),this.limitReached()&&this.end()},n.prototype.start=function(){if(!this.options.live)return this.stop();this.interval=window.setInterval(this.tick.bind(this),1e3),this.options.tick=!0},n.prototype.stop=function(){window.clearInterval(this.interval),this.options.tick=!1},n.prototype.end=function(){this.stop(),this.ended=!0,o.addClass(this.root,"ended"),this.hideOnEnd()},n.prototype.urgent=function(){this.options.urgent=!0,o.addClass(this.root,"urgent")},n.prototype.hideOnEnd=function(){this.ended&&this.config.hideOnEnd&&(this.hideAssociate("ended"),this.hide(),o.addClass(this.root,"bn--clock-ended"))},n.prototype.getAssociate=function(){var t=this.root.getAttribute("data-associate-id"),e=t?document.getElementById(t):null;return this.associate=e,this.associate},n.prototype.hasAssociate=function(){return this.getAssociate(),!!this.associate},n.prototype.hideAssociate=function(t){t=t||"not-started",this.hasAssociate()&&(this.hide(this.getAssociate()),o.addClass(this.getAssociate(),"bn--clock-"+t))},n.prototype.hide=function(t){var e=t||this.root;o.display(e,"none")},n.prototype.pad=function(t,e,i){return e=t.length>e?t.pength:e,(t=i.repeat(e)+t).substr(t.length-e)};const s=n;var r=function(){this.componentRootSelector=".beon-clock",this.initComponents(),this.bindEvents()};const a=r;r.prototype.bindEvents=function(){document.addEventListener("DOMContentLoaded",this.initComponents.bind(this)),document.addEventListener("beon.buddy.elements.handle.item.inject.success",this.initComponentFromInjection.bind(this)),document.addEventListener("beon.buddy.inject.after",this.initComponentFromInjection.bind(this))},r.prototype.initComponents=function(){var t=document.querySelectorAll(this.componentRootSelector+":not(.initialized)");Array.prototype.slice.call(t).forEach(function(t){this.initComponent(t)}.bind(this))},r.prototype.initComponentFromInjection=function(t){var e=t.detail.container.querySelector(this.componentRootSelector+":not(.initialized)");e&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){this.initComponent(e)}.bind(this)):this.initComponent(e))},r.prototype.initComponent=function(t){try{window.beon_init_log=window.beon_init_log||[];var e=t.getAttribute("data-config"),i=(t.id,JSON.parse(e));new s(t,i)}catch(t){console.log("failed to build component "+this.componentRootSelector,t)}},window&&(window.BeonClockInitializer=r)},178:t=>{const e=function(t,e){for(var i=e.split(","),o=t.className,n=0;n<i.length;n++){var s=i[n];o=o.indexOf(s)<0?o+" "+s:o}t.className=o},i=function(t,e){for(var i=e.split(","),o=t.className,n=0;n<i.length;n++){var s=new RegExp(i[n],"im");o=o.replace(s,"")}t.className=o};t.exports={hasClass:function(t,e){return new RegExp(e+"\b","im").test(t.className)},addClass:e,removeClass:i,display:function(t,o){i(t,"bn--block, bn--flex, bn--grid, bn--hide, bn--none"),e(t,"bn--"+o)}}},380:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var o=function(t,e){if(this.root=t,window.beonevents&&window.beonevents[e.id])return;const[i,o,n,s,r,a,c,d,p,u,h,l]=e;return this.config=Object.assign({id:void 0,type:"flag",variant:"seal",position:"45deg",className:void 0,innerHTML:void 0,sealSrc:void 0,style:void 0,itemQuery:void 0,containerQuery:"self",placementOperation:"append",itemsIds:[]},{id:i,type:o,variant:n,position:s,className:r,innerHTML:a,sealSrc:c,style:d,itemQuery:p,containerQuery:u,placementOperation:h,itemsIds:l}),this.init(),this};o.prototype.init=function(){var t;this.root.className=this.root.className+" initialized",this.add(this.config).then((t=>{window.beonevents&&window.beonevents[this.config.id]||(window.beonevents=window.beonevents||{},window.beonevents[this.config.id]=!0)})),document.addEventListener("beon.buddy.slider.init.after",(e=>{window.clearTimeout(t),t=window.setTimeout((()=>{console.log("flags add after slider initialize"),this.add(this.config,document)}),500)})),window.addEventListener("hashchange",(e=>{window.clearTimeout(t),t=window.setTimeout((()=>{console.log("flags add after window change"),this.add(this.config,document)}),1e3)}))},o.prototype.add=function(t,e){return new Promise(function(i){let o;e=e||document,"bullet"===t.variant&&(o=t.innerHTML);for(var n=[],s=0;s<t.itemsIds.length;s++)n.push(new Promise((i=>{var n=t.itemsIds[s];let r,a;Array.isArray(n)?[r,...a]=n:r=n;var c=t.itemQuery.replace(/{id}/gi,r),d=e.querySelectorAll(c);if(d.length){if("dynamic"===t.type){const[e,i]=a;e&&(t.innerHTML=o?o.replace("{x}",` <span class="dynamic_info">${e}</span> `):e),t.className+=i||""}d.length&&d.forEach((e=>{var i="self"===t.containerQuery?e:e.querySelector(t.containerQuery);i||(i=e),this.append(i,t)})),i()}else i()})));Promise.all(n).then((t=>i(t)))}.bind(this))},o.prototype.append=function(t,e){if(!t.querySelector(".beon-tags.beon-tag__"+e.id)){var i=document.createElement("div"),o=["beon-tags","beon-tag__"+e.id,"beon-tag__"+e.position,"beon-tag__"+e.type,"beon-tag__"+e.type+"--"+e.variant,e.className],n=e.style;e.sealSrc&&(n+="background-image: url("+e.sealSrc+");"),i.className=o.join(" "),i.setAttribute("style",n),i.innerHTML=e.innerHTML,"replace"===e.placementOperation&&(t.innerHTML=""),t.appendChild(i)}};const n=o;var s=function(){this.componentRootSelector="meta[name^=beon-magicflag]",this.initComponents(),this.bindEvents()};const r=s;s.prototype.bindEvents=function(){document.addEventListener("DOMContentLoaded",this.initComponents.bind(this)),document.addEventListener("beon.buddy.elements.handle.item.inject.success",this.initComponentFromInjection.bind(this)),document.addEventListener("beon.buddy.inject.after",this.initComponentFromInjection.bind(this)),this.initComponents()},s.prototype.initComponents=function(){var t=document.querySelectorAll(this.componentRootSelector+":not(.initialized)");Array.prototype.slice.call(t).forEach(function(t){this.initComponent(t)}.bind(this))},s.prototype.initComponentFromInjection=function(t){var e=t.detail.container.querySelector(this.componentRootSelector+":not(.initialized)");e&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){this.initComponent(e)}.bind(this)):this.initComponent(e))},s.prototype.initComponent=function(t){try{window.beon_init_log=window.beon_init_log||[];var e=t.getAttribute("data-config"),i=t.parentNode.id,o=JSON.parse(e);if(window.beon_init_log.indexOf(i)>-1)return;window.beon_init_log.push(i),new Promise((function(e,i){e(new n(t,o))}))}catch(t){console.log("failed to build component "+this.componentRootSelector,t)}},window&&(window.BeonMagicFlagInitializer=s)},457:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var o=i(178),n=function(t,e){return this.root=t,this.options={is_dismissed:!1,uuid:void 0},this.config=Object.assign({auto_dismiss:5,allow_dismiss:!0,allow_reopen:!0,reopen_after:0,dismiss_label:"Dispensar",dismiss_style:"text"},e),this.init(),this};n.prototype.init=function(){this.root&&(o.addClass(this.root,"initialized"),this.options.uuid=this.root.parentNode.id,this.initStoredData(),this.initDismissBehaviour(),this.initCtaClose())},n.prototype.initStoredData=function(){window.localStorage?this.options.is_dismissed=window.localStorage.getItem([this.options.uuid,"dismissed"].join("_"))||!1:console.warn("storage unreachable")},n.prototype.setStoredData=function(t,e){window.localStorage?window.localStorage.setItem([this.options.uuid,t].join("_"),e):console.warn("storage unreachable")},n.prototype.initDismissBehaviour=function(){return this.config.allow_dismiss&&this.buildDismissControl(),this.config.auto_dismiss>0&&this.initAutoDismiss(),this.options.is_dismissed?this.dismiss():this.show()},n.prototype.buildDismissControl=function(){var t=document.createElement("span");t.innerText=this.config.dismiss_label,t.className=["beon-notificacao__dismiss","beon-notificacao__dismiss--"+this.config.dismiss_style].join(" "),this.root.append(t),t.addEventListener("click",this.dismiss.bind(this))},n.prototype.initAutoDismiss=function(){this.setDismissTimeout(this.config.auto_dismiss),this.root.addEventListener("mouseenter",function(t){window.clearTimeout(this.root_mouseover_debounce),this.root_mouseover_debounce=window.setTimeout(function(){this.unsetDismissTimeout()}.bind(this),300)}.bind(this)),this.root.addEventListener("mouseleave",function(t){window.clearTimeout(this.root_mouseout_debounce),this.root_mouseout_debounce=window.setTimeout(function(){this.config.allow_dismiss||this.setDismissTimeout(this.config.auto_dismiss)}.bind(this),300)}.bind(this))},n.prototype.setDismissTimeout=function(t){this.options.dismiss_timeout=window.setTimeout(this.dismiss.bind(this),1e3*t+2)},n.prototype.unsetDismissTimeout=function(){window.clearTimeout(this.options.dismiss_timeout)},n.prototype.dismiss=function(t){o.addClass(this.root,"beon-notificacao--dismissed"),o.removeClass(this.root,"beon-notificacao--opened"),o.display(this.root,"none"),t&&this.setStoredData("dismissed",!0)},n.prototype.show=function(){o.hasClass(this.root,"bn--none")?this.dismiss():(o.removeClass(this.root,"beon-notificacao--dismissed"),o.addClass(this.root,"beon-notificacao--opened"),o.display(this.root,"block"))},n.prototype.initCtaClose=function(){var t=this.root.querySelector(".beon-notificacao__cta");t&&t.href.indexOf("#close")>-1&&t.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),this.dismiss()}.bind(this))},n.prototype.display=function(t,e){window.clearTimeout(this.options.displayTimeout),this.options.displayTimeout=window.setTimeout((()=>{o.display(t,e)}),1e3)};const s=n;var r=function(){return this.componentRootSelector=".beon-notificacao",this.initComponents(),this.bindEvents(),this};const a=r;r.prototype.bindEvents=function(){document.addEventListener("DOMContentLoaded",this.initComponents.bind(this)),document.addEventListener("beon.buddy.elements.handle.item.inject.success",this.initComponentFromInjection.bind(this)),document.addEventListener("beon.buddy.inject.after",this.initComponentFromInjection.bind(this))},r.prototype.initComponents=function(){var t=document.querySelectorAll(this.componentRootSelector+":not(.initialized)");Array.prototype.slice.call(t).forEach(function(t){this.initComponent(t)}.bind(this))},r.prototype.initComponentFromInjection=function(t){var e=t.detail.container.querySelector(this.componentRootSelector+":not(.initialized)");e&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){this.initComponent(e)}.bind(this)):this.initComponent(e))},r.prototype.initComponent=function(t){try{var e=t.getAttribute("data-config"),i=JSON.parse(e);new Promise((function(e,o){e(new s(t,i))}))}catch(t){console.log("failed to build component "+this.componentRootSelector,t)}},window&&(window.BeonNotificationInitializer=r)}},e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={exports:{}};return t[o](n,n.exports,i),n.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=i(273),e=i.n(t);function o(t,e){return t=t||"beon",function(){e&&Array.prototype.slice.call(arguments).forEach((function(e){"object"==typeof e?(console.log(t+": object"),console.log(e)):console.log(t+": "+e)}))}}function n(t,e){return this.engine=t,this.log=o("tracker",this.engine.debug),this.parser=e,this}function s(){return this.log=o("Parser",!0),this}n.prototype.init=function(){return this.consumeTrackQueue(),this},n.prototype.consumeTrackQueue=function(){this.engine.getTrackQueue().consume(this.track.bind(this))},n.prototype.track=function(t){var e=t.shift(),i=t.shift(),o=t.shift();switch(e){case"pageview":this.pageview(i,o);break;case"cart_update":case"cart":this.cartUpdate(o);break;case"customer_update":case"customer":this.customerUpdate(o);break;case"transaction":this.transaction(o);break;default:return void this.log("invalid method to track")}this.engine.dispatchEvent("tracker.dispatch.done",{eventType:e,type:i})},n.prototype.pageview=function(t,i){var o=i?i():this.parser.parse(t),n={event_id:e().v4(),timestamp:Date.now(),type:"pageview",payload:Object.assign({pageType:t,title:document.title,url:window.location.href,referer:document.referrer},o)};beon("send","event",n),this.log(n)},n.prototype.cartUpdate=function(t){var i=t?t():this.parser.parse("cart"),o={event_id:e().v4(),timestamp:Date.now(),type:"cart",payload:i};beon("send","event",o),this.log(o)},n.prototype.customerUpdate=function(t){var i=t?t():this.parser.parse("customer"),o={event_id:e().v4(),timestamp:Date.now(),type:"customer",payload:i};beon("send","event",o),this.log(o)},n.prototype.transaction=function(t){var i=t?t():this.parser.parse("transaction"),o={event_id:e().v4(),timestamp:Date.now(),type:"transaction",payload:i};beon("send","event",o),this.log(o)},s.prototype.getDataLayer=function(t,e,i){var o=[];if(e=e||"event",window.dataLayer)for(var n=0;n<window.dataLayer.length;n++)window.dataLayer[n][e]&&t.test(window.dataLayer[n][e])&&o.push(window.dataLayer[n]);return"bottom"===i?o.pop():o.shift()},s.prototype.parse=function(t){var e=void 0;switch(t){case"homepage":e=this.parseHomepage();break;case"product":e=this.parseProduct();break;case"catalog":e=this.parseCatalog();break;case"cart":e=this.parseCart();break;case"customer":e=this.parseCustomer();break;case"transaction":e=this.parseTransaction();break;case"search":e=this.parseSearch();break;case"notfound":e=this.parseNotfound()}return e||{}},s.prototype.parseHomepage=function(){return{}},s.prototype.parseProduct=function(){return{sku:void 0,product_id:void 0}},s.prototype.parseCatalog=function(){return{trees:void 0}},s.prototype.parseCart=function(){return{items:void 0,subtotal:void 0,coupon:void 0,shipping:{postcode:void 0,price:void 0,method:void 0}}},s.prototype.parseTransaction=function(){return{items:void 0,subtotal:void 0,coupon:void 0,shipping:{postcode:void 0,price:void 0,method:void 0},customer:{email:void 0,name:void 0},payments:void 0}},s.prototype.parseCustomer=function(){return{email:void 0,name:void 0,postcode:void 0}},s.prototype.parseSearch=function(){return{}},s.prototype.parseNotfound=function(){return{}};var r=function(){return this};const a=r;r.prototype.init=function(){this.initParser(),this.initTracker(),this.initCustomTriggers()},r.prototype.initParser=function(t){return this.parser=t||new s,this.parser},r.prototype.initTracker=function(){this.tracker=new n(window.beone,this.parser),this.tracker.init()},r.prototype.initCustomTriggers=function(){};var c=s;const d=c;var p=t=>t.toLowerCase().replace(/\s/gi,"_").replace(/([\xE0-\xFF])/gi,(t=>{const e=[[/[\xE0-\xE6]/g,"a"],[/[\xE8-\xEB]/g,"e"],[/[\xEC-\xEF]/g,"i"],[/[\xF2-\xF6]/g,"o"],[/[\xF9-\xFC]/g,"u"],[/\xE7/g,"c"],[/\xF1/g,"n"]].find((e=>e[0].test(t)));return e?e[1]:t})).replace(/\W/gi,"");function u(t){return this.log=o("vtex_plugin",!0),this.options=Object.assign({immediate:!1,strategy:"none",intervalDelay:-1,debounceDelay:-1},t),this.initCartPool(),this}c.prototype.parseProduct=function(){var t=this.getDataLayer(/product/i,"pageCategory");return t?{sku:Object.keys(t.skuStocks).shift(),product_id:t.productId}:(this.log("empty source at parseProduct parser"),{})},c.prototype.parseCatalog=function(){var t=this.getDataLayer(/(category|department)/i,"pageCategory");if(!t)return this.log("empty source at parseCatalog parser"),{};var e=[];return"Category"==t.pageCategory&&e.push({kind:"category",tree_id:p(t.categoryName||t.pageTitle)}),t.pageDepartment&&e.push({kind:"department",tree_id:p(t.pageDepartment)}),{trees:e}},c.prototype.parseCart=function(){return this.parseOrderForm()},c.prototype.parseTransaction=function(){return this.parseTransactionInfo()},c.prototype.parseCustomer=function(){var t=this.parseOrderForm(),e={};return t?(t.customer&&t.customer.email&&(e.email=t.customer.email),t.customer&&t.customer.name&&(e.name=t.customer.name),t.shipping&&t.shipping.postcode&&(e.postcode=t.shipping.postcode),e):(this.log("invalid orderForm at parseCustomer parser"),{})},c.prototype.parseSearch=function(){var t={term:void 0,results:void 0},e=this.getDataLayer(/InternalSiteSearch/i,"pageCategory");return e&&(t.term=e.siteSearchTerm,t.results_count=e.siteSearchResults),t},c.prototype.parseOrderForm=function(){var t=this.getDataLayer(/^(cartLoaded|cart|email|shipping|payment|orderPlaced)$/i,"event");if(t){var e={items:[],subtotal:null,coupons:[],shipping:{postcode:null,price:null,method:null},customer:{email:null,name:null},payments:[]};if(t.orderFormProducts)for(var i in t.orderFormProducts){var o=t.orderFormProducts[i];e.items.push({product_id:o.id,sku:o.sku,qty:o.quantity,price_to:o.price})}return t.orderFormPromoCode&&e.coupons.push(t.orderFormPromoCode),t.orderFormTotal&&(e.subtotal=t.orderFormTotal/100),t.orderFormShipping&&(e.shipping.postcode=t.visitorDemographicInfo[0],e.shipping.price=t.orderFormShipping,e.shipping.method=t.orderFormShippingMethod),t.visitorContactInfo&&(e.customer.email=t.visitorContactInfo.shift(),e.customer.name=t.visitorContactInfo.join(" ")),t.orderFormPaymentType&&e.payments.push(t.orderFormPaymentType),e}this.log("empty source at parseOrderForm parser")},c.prototype.parseTransactionInfo=function(){var t=this.getDataLayer(/orderPlaced/i);if(t){var e={id:null,items:[],total:null,shipping:{price:null,method:null,postcode:null},payments:[]};for(var i in e.id=t.transactionId,e.total=t.transactionTotal,t.transactionProducts){var o=t.transactionProducts[i];e.items.push({product_id:o.id,sku:o.sku,qty:o.quantity,price_to:o.price})}for(e.shipping.price=t.transactionShipping,i=t.transactionPaymentType.length-1;i>=0;i--){var n=t.transactionPaymentType[i];e.payments.push(n.group)}return e}this.log("empty source at parseTransactionInfo parser")},u.prototype.initCartPool=function(){return["interval","debounce"].indexOf(this.options.strategy)>-1?document.addEventListener("beon.tracker.dispatch.done",function(t){if(this.cartpool)this.log("cart pool already running");else{var e=t.detail.eventType,i=t.detail.type;"pageview"!=e||["cart","transaction","checkout"].indexOf(i)>-1?this.log("skip cart pool at "+i+" "+e):(this.cartpool=new h(this.options),this.log("cartPool init with "+this.options.strategy+" strategy"))}}.bind(this)):this.cartpool=new h(this.options),this.cartpool};var h=function(t){switch(this.version="0.2.1",this.api="/api/checkout/pub/orderForm/?{%22expectedOrderFormSections%22:[%22clientProfileData%22,%22clientPreferencesData%22,%22items%22]}",this.request=null,this.options=Object.assign({immediate:!1,strategy:"none",intervalDelay:-1,debounceDelay:-1},t),this.options.strategy){case"debounce":this.debounce();break;case"interval":this.interval()}return this};h.prototype.buildRequest=function(){var t=new XMLHttpRequest;t.open("GET",this.api),t.setRequestHeader("Content-Type","application/json"),this.request=t},h.prototype.fetch=function(t){return!this.error&&(this.buildRequest(),this.request.addEventListener("load",function(e){var i,o=e.target;if(o.readyState<4||o.status>200)throw new Error("request failed");i=JSON.parse(o.response),t(i)}.bind(this)),this.request.send())},h.prototype.parse=function(t){var e={shipping:{},items:[]},i={};if(t.items&&t.items.length)for(var o in e.items=[],t.items)t.items[o].hasOwnProperty("productId")&&e.items.push({product_id:t.items[o].productId,sku:t.items[o].id,price_to:t.items[o].sellingPrice/100,qty:t.items[o].quantity});if(t.shippingData&&t.shippingData.address&&(e.shipping.postcode=t.shippingData.address.postalCode),t.totalizers)for(var o in t.totalizers)"Items"==t.totalizers[o].id&&(e.subtotal=t.totalizers[o].value/100),"Shipping"==t.totalizers[o].id&&(e.shipping.price=t.totalizers[o].value/100);return t.clientProfileData&&t.clientProfileData.email&&(i.email=t.clientProfileData.email,i.phone=t.clientProfileData.isCorporate?t.clientProfileData.corporatePhone:t.clientProfileData.phone,i.name=t.clientProfileData.isCorporate?t.clientProfileData.corporateName:[t.clientProfileData.firstName,t.clientProfileData.lastName].join(" ")),{cart:e,customer:i}},h.prototype.parseAndPush=function(t){var e=this.parse(t),i=[];if(e&&e.cart&&i.push(["track","cart",null,function(){return e.cart}]),e&&e.customer&&i.push(["track","customer",null,function(){return e.customer}]),window.beon)for(var o=i.length-1;o>=0;o--)window.beon.apply(window.beon,i[o])},h.prototype.handleFetch=function(t){if(this.error)return!1;var e=t||this.parseAndPush;try{return this.fetch(e)}catch(t){this.error=!0}},h.prototype.interval=function(t,e){this.options.immediate&&this.handleFetch.bind(this),this.intervalTimeout=window.setTimeout(function(){this.handleFetch.bind(this)&&this.interval(t,e)}.bind(this),e||this.options.intervalDelay)},h.prototype.debounce=function(t,e){this.options.immediate&&this.handleFetch.bind(this),document.addEventListener("click",function(){this.debounceTimeout&&window.clearTimeout(this.debounceTimeout),this.debounceTimeout=window.setTimeout(this.handleFetch.bind(this),e||this.options.debounceDelay)}.bind(this))};var l=i(380),m=i(877),f=i(457),g=function(){return new u,a.call(this),this};(g.prototype=Object.create(a.prototype)).constructor=g,g.prototype.initParser=function(){return a.prototype.initParser.call(this,new d),this.parser.parseProduct=function(){var t={pathname:void 0};try{var e=document.querySelector("link[rel=canonical]");if(!e)return{};var i=e.getAttribute("href").replace(window.location.origin,"");t.pathname=i}catch(t){console.warn(`product parse failed with ${t.message}`)}return t},this.parser},g.prototype.initCustomTriggers=function(){return a.prototype.initCustomTriggers.call(this),new l.Z,new m.Z,new f.Z,this},window.beon_custom=new g,window.beon_custom.init()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibi50ZW5hbnQuY3VzdG9tLmJhc2UvLi9zcmMvYmFzZS9ub2RlX21vZHVsZXMvdXVpZC9pbmRleC5qcyIsIndlYnBhY2s6Ly9ibi50ZW5hbnQuY3VzdG9tLmJhc2UvLi9zcmMvYmFzZS9ub2RlX21vZHVsZXMvdXVpZC9saWIvYnl0ZXNUb1V1aWQuanMiLCJ3ZWJwYWNrOi8vYm4udGVuYW50LmN1c3RvbS5iYXNlLy4vc3JjL2Jhc2Uvbm9kZV9tb2R1bGVzL3V1aWQvbGliL3JuZy1icm93c2VyLmpzIiwid2VicGFjazovL2JuLnRlbmFudC5jdXN0b20uYmFzZS8uL3NyYy9iYXNlL25vZGVfbW9kdWxlcy91dWlkL3YxLmpzIiwid2VicGFjazovL2JuLnRlbmFudC5jdXN0b20uYmFzZS8uL3NyYy9iYXNlL25vZGVfbW9kdWxlcy91dWlkL3Y0LmpzIiwid2VicGFjazovL2JuLnRlbmFudC5jdXN0b20uYmFzZS8uL3NyYy9iYXNlL3NyYy9qcy9jbG9jay9jbG9jay5qcyIsIndlYnBhY2s6Ly9ibi50ZW5hbnQuY3VzdG9tLmJhc2UvLi9zcmMvYmFzZS9zcmMvanMvY2xvY2svaW5pdC5qcyIsIndlYnBhY2s6Ly9ibi50ZW5hbnQuY3VzdG9tLmJhc2UvLi9zcmMvYmFzZS9zcmMvanMvaGVscGVycy9kb20uanMiLCJ3ZWJwYWNrOi8vYm4udGVuYW50LmN1c3RvbS5iYXNlLy4vc3JjL2Jhc2Uvc3JjL2pzL21hZ2ljZmxhZy9tYWdpY2ZsYWcuanMiLCJ3ZWJwYWNrOi8vYm4udGVuYW50LmN1c3RvbS5iYXNlLy4vc3JjL2Jhc2Uvc3JjL2pzL21hZ2ljZmxhZy9pbml0LmpzIiwid2VicGFjazovL2JuLnRlbmFudC5jdXN0b20uYmFzZS8uL3NyYy9iYXNlL3NyYy9qcy9ub3RpZmljYXRpb24vbm90aWZpY2F0aW9uLmpzIiwid2VicGFjazovL2JuLnRlbmFudC5jdXN0b20uYmFzZS8uL3NyYy9iYXNlL3NyYy9qcy9ub3RpZmljYXRpb24vaW5pdC5qcyIsIndlYnBhY2s6Ly9ibi50ZW5hbnQuY3VzdG9tLmJhc2Uvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYm4udGVuYW50LmN1c3RvbS5iYXNlL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2JuLnRlbmFudC5jdXN0b20uYmFzZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vYm4udGVuYW50LmN1c3RvbS5iYXNlL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYm4udGVuYW50LmN1c3RvbS5iYXNlLy4vc3JjL2Jhc2Uvc3JjL2pzL2NvcmUvdjQvbG9nLmpzIiwid2VicGFjazovL2JuLnRlbmFudC5jdXN0b20uYmFzZS8uL3NyYy9iYXNlL3NyYy9qcy9jb3JlL3Y0L3RyYWNrZXIuanMiLCJ3ZWJwYWNrOi8vYm4udGVuYW50LmN1c3RvbS5iYXNlLy4vc3JjL2Jhc2Uvc3JjL2pzL2NvcmUvdjQvcGFyc2VyLmpzIiwid2VicGFjazovL2JuLnRlbmFudC5jdXN0b20uYmFzZS8uL3NyYy9iYXNlL3NyYy9qcy9jb3JlL2N1c3RvbS9jdXN0b20uanMiLCJ3ZWJwYWNrOi8vYm4udGVuYW50LmN1c3RvbS5iYXNlLy4vc3JjL2Jhc2Uvc3JjL2pzL2NvcmUvdjQvdHJhY2svcGFyc2VyL3Z0ZXguanMiLCJ3ZWJwYWNrOi8vYm4udGVuYW50LmN1c3RvbS5iYXNlLy4vc3JjL2Jhc2Uvc3JjL2pzL2NvcmUvdjQvdHJhY2svcGx1Z2luL3Z0ZXguanMiLCJ3ZWJwYWNrOi8vYm4udGVuYW50LmN1c3RvbS5iYXNlLy4vc3JjL2N1c3RvbS9qcy9jdXN0b20uanMiXSwibmFtZXMiOlsidjEiLCJ2NCIsInV1aWQiLCJtb2R1bGUiLCJleHBvcnRzIiwiYnl0ZVRvSGV4IiwiaSIsInRvU3RyaW5nIiwic3Vic3RyIiwiYnVmIiwib2Zmc2V0IiwiYnRoIiwiam9pbiIsImdldFJhbmRvbVZhbHVlcyIsImNyeXB0byIsImJpbmQiLCJ3aW5kb3ciLCJtc0NyeXB0byIsInJuZHM4IiwiVWludDhBcnJheSIsInJuZHMiLCJBcnJheSIsInIiLCJNYXRoIiwicmFuZG9tIiwiX25vZGVJZCIsIl9jbG9ja3NlcSIsInJuZyIsImJ5dGVzVG9VdWlkIiwiX2xhc3RNU2VjcyIsIl9sYXN0TlNlY3MiLCJvcHRpb25zIiwiYiIsIm5vZGUiLCJjbG9ja3NlcSIsInVuZGVmaW5lZCIsInNlZWRCeXRlcyIsIm1zZWNzIiwiRGF0ZSIsImdldFRpbWUiLCJuc2VjcyIsImR0IiwiRXJyb3IiLCJ0bCIsInRtaCIsIm4iLCJpaSIsImRvbSIsIkNsb2NrQ29tcG9uZW50Iiwicm9vdCIsImNvbmZpZyIsInRoaXMiLCJ0aWNrIiwiZW5kZWQiLCJ1cmdlbnQiLCJsaXZlIiwiT2JqZWN0IiwiYXNzaWduIiwidHlwZSIsImludGVydmFsIiwic3RhcnRfZGF0ZSIsImVuZF9kYXRlIiwidXJnZW50X2RhdGUiLCJoZWFkbGluZSIsInN1cHBvcnRfdGV4dCIsImhpZGVPbkVuZCIsImFnZ3JlZ2F0ZURheXMiLCJkYXRlcyIsIm5vdyIsInN0YXJ0IiwiZW5kIiwiZnJhZ21lbnRzIiwiZCIsIkgiLCJzIiwiaW5pdCIsInByb3RvdHlwZSIsImFkZENsYXNzIiwiaW5pdERhdGVzIiwiaW5pdEZyYWdtZW50cyIsImluaXRDbG9jayIsImRheVN0YXJ0Iiwic2V0SG91cnMiLCJzZXRNaW51dGVzIiwic2V0U2Vjb25kcyIsImRheUVuZCIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJkYXRlc0Nvb2tpZU5hbWUiLCJpZCIsImRhdGVzQ29va2llUGFydHMiLCJkb2N1bWVudCIsImNvb2tpZSIsInNwbGl0IiwiZGF0ZXNDb29raWVWYWx1ZSIsImxlbmd0aCIsInBvcCIsInNoaWZ0IiwiY29va2llRGF0ZXMiLCJwYXJzZUludCIsIm5vdFN0YXJ0ZWRZZXQiLCJoaWRlQXNzb2NpYXRlIiwiaGlkZSIsImxpbWl0UmVhY2hlZCIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsImRpc3BsYXkiLCJ1cGRhdGVGcmFnbWVudHMiLCJkaWZmIiwiZDEiLCJkMiIsIm1pbGlzZWNvbmRzIiwic2Vjb25kcyIsImZsb29yIiwidXBkYXRlTm93IiwidXJnZW50UmVhY2hlZCIsImVudHJpZXMiLCJmcmFnIiwidmFsdWUiLCJzZXRGcmFnbWVudCIsImZvcm1hdHRlZCIsInBhZCIsImlubmVyVGV4dCIsInN0b3AiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJnZXRBc3NvY2lhdGUiLCJhc3NvY2lhdGVJZCIsImdldEF0dHJpYnV0ZSIsImFzc29jaWF0ZUVsIiwiZ2V0RWxlbWVudEJ5SWQiLCJhc3NvY2lhdGUiLCJoYXNBc3NvY2lhdGUiLCJyZWFzb24iLCJlbCIsImVsVG9IaWRlIiwic3RyIiwic2l6ZSIsInBhZGRpbmciLCJwZW5ndGgiLCJyZXBlYXQiLCJDbG9ja0luaXRpYWxpemVyIiwiY29tcG9uZW50Um9vdFNlbGVjdG9yIiwiaW5pdENvbXBvbmVudHMiLCJiaW5kRXZlbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImluaXRDb21wb25lbnRGcm9tSW5qZWN0aW9uIiwiY29tcG9uZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzbGljZSIsImNhbGwiLCJmb3JFYWNoIiwiaW5pdENvbXBvbmVudCIsImV2ZW50IiwiZGV0YWlsIiwiY29udGFpbmVyIiwicmVhZHlTdGF0ZSIsImJlb25faW5pdF9sb2ciLCJyYXdDb25maWciLCJKU09OIiwicGFyc2UiLCJlIiwiY29uc29sZSIsImxvZyIsIkJlb25DbG9ja0luaXRpYWxpemVyIiwiY2xhc3NMaXN0IiwiY2xhc3NlcyIsImNsYXNzTmFtZSIsImN1cnJlbnQiLCJpbmRleE9mIiwicmVtb3ZlQ2xhc3MiLCJSZWdFeHAiLCJyZXBsYWNlIiwiaGFzQ2xhc3MiLCJ0ZXN0IiwiTWFnaWNGbGFnQ29tcG9uZW50IiwiYmVvbmV2ZW50cyIsInZhcmlhbnQiLCJwb3NpdGlvbiIsImlubmVySFRNTCIsInNlYWxTcmMiLCJpdGVtUXVlcnkiLCJjb250YWluZXJRdWVyeSIsInBsYWNlbWVudE9wZXJhdGlvbiIsIml0ZW1zSWRzIiwiZGVib3VuY2UiLCJhZGQiLCJ0aGVuIiwicmVzIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsIlByb21pc2UiLCJyZXNvbHZlIiwiY29udGVudFRlbXBsYXRlIiwicHJvbWlzZXNBcnJheSIsInB1c2giLCJpdGVtRGVmaW5pdGlvbiIsIml0ZW1JZCIsImFyZ3MiLCJpc0FycmF5IiwiZWxlbWVudHNTZWxlY3RvciIsImVsZW1lbnRzIiwiaXRlbUlubmVySHRtbCIsIml0ZW1DbGFzc05hbWUiLCJlbGVtZW50IiwicGFyZW50IiwiYXBwZW5kIiwiYWxsIiwiYnVsbGV0IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiTWFnaWNGbGFnSW5pdGlhbGl6ZXIiLCJyb290SWQiLCJwYXJlbnROb2RlIiwicmVqZWN0IiwiQmVvbk1hZ2ljRmxhZ0luaXRpYWxpemVyIiwiTm90aWZpY2F0aW9uQ29tcG9uZW50IiwiaXNfZGlzbWlzc2VkIiwiYXV0b19kaXNtaXNzIiwiYWxsb3dfZGlzbWlzcyIsImFsbG93X3Jlb3BlbiIsInJlb3Blbl9hZnRlciIsImRpc21pc3NfbGFiZWwiLCJkaXNtaXNzX3N0eWxlIiwiaW5pdFN0b3JlZERhdGEiLCJpbml0RGlzbWlzc0JlaGF2aW91ciIsImluaXRDdGFDbG9zZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJ3YXJuIiwic2V0U3RvcmVkRGF0YSIsInByb3AiLCJzZXRJdGVtIiwiYnVpbGREaXNtaXNzQ29udHJvbCIsImluaXRBdXRvRGlzbWlzcyIsImRpc21pc3MiLCJzaG93IiwiY29udHJvbCIsInNldERpc21pc3NUaW1lb3V0Iiwicm9vdF9tb3VzZW92ZXJfZGVib3VuY2UiLCJ1bnNldERpc21pc3NUaW1lb3V0Iiwicm9vdF9tb3VzZW91dF9kZWJvdW5jZSIsInRpbWVvdXQiLCJkaXNtaXNzX3RpbWVvdXQiLCJjdGEiLCJocmVmIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJkaXNwbGF5VGltZW91dCIsIk5vdGlmaWNhdGlvbkluaXRpYWxpemVyIiwiQmVvbk5vdGlmaWNhdGlvbkluaXRpYWxpemVyIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJoYXNPd25Qcm9wZXJ0eSIsImxvZ2dlciIsImRlYnVnIiwiYXJndW1lbnRzIiwidHJhY2tlciIsImVuZ2luZSIsInBhcnNlciIsIlBhcnNlciIsImNvbnN1bWVUcmFja1F1ZXVlIiwiZ2V0VHJhY2tRdWV1ZSIsImNvbnN1bWUiLCJ0cmFjayIsImV2ZW50VHlwZSIsImN1c3RvbVBheWxvYWQiLCJwYWdldmlldyIsImNhcnRVcGRhdGUiLCJjdXN0b21lclVwZGF0ZSIsInRyYW5zYWN0aW9uIiwiZGlzcGF0Y2hFdmVudCIsInBheWxvYWQiLCJldmVudF9pZCIsInRpbWVzdGFtcCIsInBhZ2VUeXBlIiwidGl0bGUiLCJ1cmwiLCJsb2NhdGlvbiIsInJlZmVyZXIiLCJyZWZlcnJlciIsImJlb24iLCJnZXREYXRhTGF5ZXIiLCJyZWdleCIsInRvcEJvdHRvbSIsImZvdW5kIiwiZGF0YUxheWVyIiwicGFyc2VIb21lcGFnZSIsInBhcnNlUHJvZHVjdCIsInBhcnNlQ2F0YWxvZyIsInBhcnNlQ2FydCIsInBhcnNlQ3VzdG9tZXIiLCJwYXJzZVRyYW5zYWN0aW9uIiwicGFyc2VTZWFyY2giLCJwYXJzZU5vdGZvdW5kIiwic2t1IiwicHJvZHVjdF9pZCIsInRyZWVzIiwiaXRlbXMiLCJzdWJ0b3RhbCIsImNvdXBvbiIsInNoaXBwaW5nIiwicG9zdGNvZGUiLCJwcmljZSIsIm1ldGhvZCIsImN1c3RvbWVyIiwiZW1haWwiLCJuYW1lIiwicGF5bWVudHMiLCJCZW9uQ3VzdG9tIiwiaW5pdFBhcnNlciIsImluaXRUcmFja2VyIiwiaW5pdEN1c3RvbVRyaWdnZXJzIiwiYmVvbmUiLCJWdGV4UGFyc2VyIiwidHJlZUlkQ29tcG9zZSIsInRvTG93ZXJDYXNlIiwiaW5wdXQiLCJmaW5kIiwibSIsImltbWVkaWF0ZSIsInN0cmF0ZWd5IiwiaW50ZXJ2YWxEZWxheSIsImRlYm91bmNlRGVsYXkiLCJpbml0Q2FydFBvb2wiLCJzb3VyY2UiLCJrZXlzIiwic2t1U3RvY2tzIiwicHJvZHVjdElkIiwicGFnZUNhdGVnb3J5Iiwia2luZCIsInRyZWVfaWQiLCJjYXRlZ29yeU5hbWUiLCJwYWdlVGl0bGUiLCJwYWdlRGVwYXJ0bWVudCIsInBhcnNlT3JkZXJGb3JtIiwicGFyc2VUcmFuc2FjdGlvbkluZm8iLCJvcmRlckZvcm0iLCJzZWFyY2giLCJ0ZXJtIiwicmVzdWx0cyIsInNpdGVTZWFyY2hUZXJtIiwicmVzdWx0c19jb3VudCIsInNpdGVTZWFyY2hSZXN1bHRzIiwiZm9ybSIsImNvdXBvbnMiLCJvcmRlckZvcm1Qcm9kdWN0cyIsIml0ZW0iLCJxdHkiLCJxdWFudGl0eSIsInByaWNlX3RvIiwib3JkZXJGb3JtUHJvbW9Db2RlIiwib3JkZXJGb3JtVG90YWwiLCJvcmRlckZvcm1TaGlwcGluZyIsInZpc2l0b3JEZW1vZ3JhcGhpY0luZm8iLCJvcmRlckZvcm1TaGlwcGluZ01ldGhvZCIsInZpc2l0b3JDb250YWN0SW5mbyIsIm9yZGVyRm9ybVBheW1lbnRUeXBlIiwidG90YWwiLCJ0cmFuc2FjdGlvbklkIiwidHJhbnNhY3Rpb25Ub3RhbCIsInRyYW5zYWN0aW9uUHJvZHVjdHMiLCJ0cmFuc2FjdGlvblNoaXBwaW5nIiwidHJhbnNhY3Rpb25QYXltZW50VHlwZSIsInBheW1lbnQiLCJncm91cCIsImNhcnRwb29sIiwiY29udGV4dCIsInZ0ZXhDYXJ0UG9vbCIsInZlcnNpb24iLCJhcGkiLCJyZXF1ZXN0IiwiYnVpbGRSZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsImZldGNoIiwiY2FsbGJhY2siLCJlcnJvciIsInJlc3BvbnNlIiwidGFyZ2V0Iiwic3RhdHVzIiwic2VuZCIsImNhcnQiLCJzZWxsaW5nUHJpY2UiLCJzaGlwcGluZ0RhdGEiLCJhZGRyZXNzIiwicG9zdGFsQ29kZSIsInRvdGFsaXplcnMiLCJjbGllbnRQcm9maWxlRGF0YSIsInBob25lIiwiaXNDb3Jwb3JhdGUiLCJjb3Jwb3JhdGVQaG9uZSIsImNvcnBvcmF0ZU5hbWUiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInBhcnNlQW5kUHVzaCIsInBhcnNlZCIsImFwcGx5IiwiaGFuZGxlRmV0Y2giLCJ1c2VyQ2FsbGJhY2siLCJpbnRlcnZhbFRpbWVvdXQiLCJkZWxheSIsImRlYm91bmNlVGltZW91dCIsIkN1c3RvbUluc3RhbmNlIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJwcm9kdWN0IiwicGF0aG5hbWUiLCJwYXRoIiwib3JpZ2luIiwibWVzc2FnZSIsImJlb25fY3VzdG9tIl0sIm1hcHBpbmdzIjoiMkJBQUEsSUFBSUEsRUFBSyxFQUFRLEtBQ2JDLEVBQUssRUFBUSxLQUViQyxFQUFPRCxFQUNYQyxFQUFLRixHQUFLQSxFQUNWRSxFQUFLRCxHQUFLQSxFQUVWRSxFQUFPQyxRQUFVRixHLFFDRmpCLElBREEsSUFBSUcsRUFBWSxHQUNQQyxFQUFJLEVBQUdBLEVBQUksTUFBT0EsRUFDekJELEVBQVVDLElBQU1BLEVBQUksS0FBT0MsU0FBUyxJQUFJQyxPQUFPLEdBaUJqREwsRUFBT0MsUUFkUCxTQUFxQkssRUFBS0MsR0FDeEIsSUFBSUosRUFBSUksR0FBVSxFQUNkQyxFQUFNTixFQUVWLE1BQU8sQ0FBRU0sRUFBSUYsRUFBSUgsTUFBT0ssRUFBSUYsRUFBSUgsTUFDakNLLEVBQUlGLEVBQUlILE1BQU9LLEVBQUlGLEVBQUlILE1BQU8sSUFDOUJLLEVBQUlGLEVBQUlILE1BQU9LLEVBQUlGLEVBQUlILE1BQU8sSUFD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LFVBQVV5UCxtQkFBcUIsV0FPNUMsT0FOQSxvQ0FBNkNsUixNQUU3QyxJQUFJLElBQ0osSUFBSSxJQUNKLElBQUksSUFFR0EsTUFHVG5DLE9BQU95WixZQUFjLElBQUlSLEVBQ3pCalosT0FBT3laLFlBQVk5VixRIiwiZmlsZSI6ImN1c3RvbS9qcy9jdXN0b20uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdjEgPSByZXF1aXJlKCcuL3YxJyk7XG52YXIgdjQgPSByZXF1aXJlKCcuL3Y0Jyk7XG5cbnZhciB1dWlkID0gdjQ7XG51dWlkLnYxID0gdjE7XG51dWlkLnY0ID0gdjQ7XG5cbm1vZHVsZS5leHBvcnRzID0gdXVpZDtcbiIsIi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xudmFyIGJ5dGVUb0hleCA9IFtdO1xuZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXhbaV0gPSAoaSArIDB4MTAwKS50b1N0cmluZygxNikuc3Vic3RyKDEpO1xufVxuXG5mdW5jdGlvbiBieXRlc1RvVXVpZChidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IG9mZnNldCB8fCAwO1xuICB2YXIgYnRoID0gYnl0ZVRvSGV4O1xuICAvLyBqb2luIHVzZWQgdG8gZml4IG1lbW9yeSBpc3N1ZSBjYXVzZWQgYnkgY29uY2F0ZW5hdGlvbjogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzE3NSNjNFxuICByZXR1cm4gKFtidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCBcblx0YnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuXHRidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG5cdGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcblx0YnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuXHRidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLFxuXHRidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLFxuXHRidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dXSkuam9pbignJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYnl0ZXNUb1V1aWQ7XG4iLCIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiAgSW4gdGhlXG4vLyBicm93c2VyIHRoaXMgaXMgYSBsaXR0bGUgY29tcGxpY2F0ZWQgZHVlIHRvIHVua25vd24gcXVhbGl0eSBvZiBNYXRoLnJhbmRvbSgpXG4vLyBhbmQgaW5jb25zaXN0ZW50IHN1cHBvcnQgZm9yIHRoZSBgY3J5cHRvYCBBUEkuICBXZSBkbyB0aGUgYmVzdCB3ZSBjYW4gdmlhXG4vLyBmZWF0dXJlLWRldGVjdGlvblxuXG4vLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG9cbi8vIGltcGxlbWVudGF0aW9uLiBBbHNvLCBmaW5kIHRoZSBjb21wbGV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBjcnlwdG8gb24gSUUxMS5cbnZhciBnZXRSYW5kb21WYWx1ZXMgPSAodHlwZW9mKGNyeXB0bykgIT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mKG1zQ3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93Lm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyA9PSAnZnVuY3Rpb24nICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSk7XG5cbmlmIChnZXRSYW5kb21WYWx1ZXMpIHtcbiAgLy8gV0hBVFdHIGNyeXB0byBSTkcgLSBodHRwOi8vd2lraS53aGF0d2cub3JnL3dpa2kvQ3J5cHRvXG4gIHZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gd2hhdHdnUk5HKCkge1xuICAgIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG4gICAgcmV0dXJuIHJuZHM4O1xuICB9O1xufSBlbHNlIHtcbiAgLy8gTWF0aC5yYW5kb20oKS1iYXNlZCAoUk5HKVxuICAvL1xuICAvLyBJZiBhbGwgZWxzZSBmYWlscywgdXNlIE1hdGgucmFuZG9tKCkuICBJdCdzIGZhc3QsIGJ1dCBpcyBvZiB1bnNwZWNpZmllZFxuICAvLyBxdWFsaXR5LlxuICB2YXIgcm5kcyA9IG5ldyBBcnJheSgxNik7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtYXRoUk5HKCkge1xuICAgIGZvciAodmFyIGkgPSAwLCByOyBpIDwgMTY7IGkrKykge1xuICAgICAgaWYgKChpICYgMHgwMykgPT09IDApIHIgPSBNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDA7XG4gICAgICBybmRzW2ldID0gciA+Pj4gKChpICYgMHgwMykgPDwgMykgJiAweGZmO1xuICAgIH1cblxuICAgIHJldHVybiBybmRzO1xuICB9O1xufVxuIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuLy8gKipgdjEoKWAgLSBHZW5lcmF0ZSB0aW1lLWJhc2VkIFVVSUQqKlxuLy9cbi8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9MaW9zSy9VVUlELmpzXG4vLyBhbmQgaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3V1aWQuaHRtbFxuXG52YXIgX25vZGVJZDtcbnZhciBfY2xvY2tzZXE7XG5cbi8vIFByZXZpb3VzIHV1aWQgY3JlYXRpb24gdGltZVxudmFyIF9sYXN0TVNlY3MgPSAwO1xudmFyIF9sYXN0TlNlY3MgPSAwO1xuXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2Jyb29mYS9ub2RlLXV1aWQgZm9yIEFQSSBkZXRhaWxzXG5mdW5jdGlvbiB2MShvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgdmFyIGIgPSBidWYgfHwgW107XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBub2RlID0gb3B0aW9ucy5ub2RlIHx8IF9ub2RlSWQ7XG4gIHZhciBjbG9ja3NlcSA9IG9wdGlvbnMuY2xvY2tzZXEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xvY2tzZXEgOiBfY2xvY2tzZXE7XG5cbiAgLy8gbm9kZSBhbmQgY2xvY2tzZXEgbmVlZCB0byBiZSBpbml0aWFsaXplZCB0byByYW5kb20gdmFsdWVzIGlmIHRoZXkncmUgbm90XG4gIC8vIHNwZWNpZmllZC4gIFdlIGRvIHRoaXMgbGF6aWx5IHRvIG1pbmltaXplIGlzc3VlcyByZWxhdGVkIHRvIGluc3VmZmljaWVudFxuICAvLyBzeXN0ZW0gZW50cm9weS4gIFNlZSAjMTg5XG4gIGlmIChub2RlID09IG51bGwgfHwgY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgIHZhciBzZWVkQnl0ZXMgPSBybmcoKTtcbiAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC41LCBjcmVhdGUgYW5kIDQ4LWJpdCBub2RlIGlkLCAoNDcgcmFuZG9tIGJpdHMgKyBtdWx0aWNhc3QgYml0ID0gMSlcbiAgICAgIG5vZGUgPSBfbm9kZUlkID0gW1xuICAgICAgICBzZWVkQnl0ZXNbMF0gfCAweDAxLFxuICAgICAgICBzZWVkQnl0ZXNbMV0sIHNlZWRCeXRlc1syXSwgc2VlZEJ5dGVzWzNdLCBzZWVkQnl0ZXNbNF0sIHNlZWRCeXRlc1s1XVxuICAgICAgXTtcbiAgICB9XG4gICAgaWYgKGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjIuMiwgcmFuZG9taXplICgxNCBiaXQpIGNsb2Nrc2VxXG4gICAgICBjbG9ja3NlcSA9IF9jbG9ja3NlcSA9IChzZWVkQnl0ZXNbNl0gPDwgOCB8IHNlZWRCeXRlc1s3XSkgJiAweDNmZmY7XG4gICAgfVxuICB9XG5cbiAgLy8gVVVJRCB0aW1lc3RhbXBzIGFyZSAxMDAgbmFuby1zZWNvbmQgdW5pdHMgc2luY2UgdGhlIEdyZWdvcmlhbiBlcG9jaCxcbiAgLy8gKDE1ODItMTAtMTUgMDA6MDApLiAgSlNOdW1iZXJzIGFyZW4ndCBwcmVjaXNlIGVub3VnaCBmb3IgdGhpcywgc29cbiAgLy8gdGltZSBpcyBoYW5kbGVkIGludGVybmFsbHkgYXMgJ21zZWNzJyAoaW50ZWdlciBtaWxsaXNlY29uZHMpIGFuZCAnbnNlY3MnXG4gIC8vICgxMDAtbmFub3NlY29uZHMgb2Zmc2V0IGZyb20gbXNlY3MpIHNpbmNlIHVuaXggZXBvY2gsIDE5NzAtMDEtMDEgMDA6MDAuXG4gIHZhciBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXNlY3MgOiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAvLyBQZXIgNC4yLjEuMiwgdXNlIGNvdW50IG9mIHV1aWQncyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBjdXJyZW50IGNsb2NrXG4gIC8vIGN5Y2xlIHRvIHNpbXVsYXRlIGhpZ2hlciByZXNvbHV0aW9uIGNsb2NrXG4gIHZhciBuc2VjcyA9IG9wdGlvbnMubnNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubnNlY3MgOiBfbGFzdE5TZWNzICsgMTtcblxuICAvLyBUaW1lIHNpbmNlIGxhc3QgdXVpZCBjcmVhdGlvbiAoaW4gbXNlY3MpXG4gIHZhciBkdCA9IChtc2VjcyAtIF9sYXN0TVNlY3MpICsgKG5zZWNzIC0gX2xhc3ROU2VjcykvMTAwMDA7XG5cbiAgLy8gUGVyIDQuMi4xLjIsIEJ1bXAgY2xvY2tzZXEgb24gY2xvY2sgcmVncmVzc2lvblxuICBpZiAoZHQgPCAwICYmIG9wdGlvbnMuY2xvY2tzZXEgPT09IHVuZGVmaW5lZCkge1xuICAgIGNsb2Nrc2VxID0gY2xvY2tzZXEgKyAxICYgMHgzZmZmO1xuICB9XG5cbiAgLy8gUmVzZXQgbnNlY3MgaWYgY2xvY2sgcmVncmVzc2VzIChuZXcgY2xvY2tzZXEpIG9yIHdlJ3ZlIG1vdmVkIG9udG8gYSBuZXdcbiAgLy8gdGltZSBpbnRlcnZhbFxuICBpZiAoKGR0IDwgMCB8fCBtc2VjcyA+IF9sYXN0TVNlY3MpICYmIG9wdGlvbnMubnNlY3MgPT09IHVuZGVmaW5lZCkge1xuICAgIG5zZWNzID0gMDtcbiAgfVxuXG4gIC8vIFBlciA0LjIuMS4yIFRocm93IGVycm9yIGlmIHRvbyBtYW55IHV1aWRzIGFyZSByZXF1ZXN0ZWRcbiAgaWYgKG5zZWNzID49IDEwMDAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1dWlkLnYxKCk6IENhblxcJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjJyk7XG4gIH1cblxuICBfbGFzdE1TZWNzID0gbXNlY3M7XG4gIF9sYXN0TlNlY3MgPSBuc2VjcztcbiAgX2Nsb2Nrc2VxID0gY2xvY2tzZXE7XG5cbiAgLy8gUGVyIDQuMS40IC0gQ29udmVydCBmcm9tIHVuaXggZXBvY2ggdG8gR3JlZ29yaWFuIGVwb2NoXG4gIG1zZWNzICs9IDEyMjE5MjkyODAwMDAwO1xuXG4gIC8vIGB0aW1lX2xvd2BcbiAgdmFyIHRsID0gKChtc2VjcyAmIDB4ZmZmZmZmZikgKiAxMDAwMCArIG5zZWNzKSAlIDB4MTAwMDAwMDAwO1xuICBiW2krK10gPSB0bCA+Pj4gMjQgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gMTYgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsICYgMHhmZjtcblxuICAvLyBgdGltZV9taWRgXG4gIHZhciB0bWggPSAobXNlY3MgLyAweDEwMDAwMDAwMCAqIDEwMDAwKSAmIDB4ZmZmZmZmZjtcbiAgYltpKytdID0gdG1oID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdG1oICYgMHhmZjtcblxuICAvLyBgdGltZV9oaWdoX2FuZF92ZXJzaW9uYFxuICBiW2krK10gPSB0bWggPj4+IDI0ICYgMHhmIHwgMHgxMDsgLy8gaW5jbHVkZSB2ZXJzaW9uXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAweGZmO1xuXG4gIC8vIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYCAoUGVyIDQuMi4yIC0gaW5jbHVkZSB2YXJpYW50KVxuICBiW2krK10gPSBjbG9ja3NlcSA+Pj4gOCB8IDB4ODA7XG5cbiAgLy8gYGNsb2NrX3NlcV9sb3dgXG4gIGJbaSsrXSA9IGNsb2Nrc2VxICYgMHhmZjtcblxuICAvLyBgbm9kZWBcbiAgZm9yICh2YXIgbiA9IDA7IG4gPCA2OyArK24pIHtcbiAgICBiW2kgKyBuXSA9IG5vZGVbbl07XG4gIH1cblxuICByZXR1cm4gYnVmID8gYnVmIDogYnl0ZXNUb1V1aWQoYik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdjE7XG4iLCJ2YXIgcm5nID0gcmVxdWlyZSgnLi9saWIvcm5nJyk7XG52YXIgYnl0ZXNUb1V1aWQgPSByZXF1aXJlKCcuL2xpYi9ieXRlc1RvVXVpZCcpO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcblxuICBpZiAodHlwZW9mKG9wdGlvbnMpID09ICdzdHJpbmcnKSB7XG4gICAgYnVmID0gb3B0aW9ucyA9PT0gJ2JpbmFyeScgPyBuZXcgQXJyYXkoMTYpIDogbnVsbDtcbiAgICBvcHRpb25zID0gbnVsbDtcbiAgfVxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuICBybmRzWzZdID0gKHJuZHNbNl0gJiAweDBmKSB8IDB4NDA7XG4gIHJuZHNbOF0gPSAocm5kc1s4XSAmIDB4M2YpIHwgMHg4MDtcblxuICAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcbiAgaWYgKGJ1Zikge1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCAxNjsgKytpaSkge1xuICAgICAgYnVmW2kgKyBpaV0gPSBybmRzW2lpXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnVmIHx8IGJ5dGVzVG9VdWlkKHJuZHMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHY0O1xuIiwidmFyIGRvbSA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL2RvbS5qc1wiKTtcblxudmFyIENsb2NrQ29tcG9uZW50ID0gZnVuY3Rpb24gKHJvb3QsIGNvbmZpZykge1xuICB0aGlzLnJvb3QgPSByb290O1xuXG4gIHRoaXMub3B0aW9ucyA9IHtcbiAgICB0aWNrOiBmYWxzZSwgLy8gaW5kaWNhdGVzIHRoYXQgY2xvY2sgaXMgdGlja2luZ1xuICAgIGVuZGVkOiBmYWxzZSwgLy8gaW5kaWNhdGVzIHdoZW4gY2xvY2sgaGFzIGVuZGVkXG4gICAgdXJnZW50OiBmYWxzZSwgLy8gaW5kaWNhdGVzIHdoZW4gY2xvY2sgcmVjaGVkIHVyZ2VudCBsaW1pdFxuICAgIGxpdmU6IGZhbHNlLCAvLyBpbmRpY2F0ZXMgaWYgY2xvY2sgaXMgbGl2ZVxuICB9O1xuXG4gIHRoaXMuY29uZmlnID0gT2JqZWN0LmFzc2lnbihcbiAgICB7XG4gICAgICB0eXBlOiBcImRhdGVzXCIsXG4gICAgICBpbnRlcnZhbDogbnVsbCxcbiAgICAgIHN0YXJ0X2RhdGU6IG51bGwsXG4gICAgICBlbmRfZGF0ZTogbnVsbCxcbiAgICAgIHVyZ2VudF9kYXRlOiBudWxsLFxuICAgICAgaGVhZGxpbmU6IFwiXCIsXG4gICAgICBzdXBwb3J0X3RleHQ6IFwiXCIsXG4gICAgICBoaWRlT25FbmQ6IGZhbHNlLFxuICAgICAgYWdncmVnYXRlRGF5czogZmFsc2UsXG4gICAgfSxcbiAgICBjb25maWdcbiAgKTtcblxuICB0aGlzLmRhdGVzID0ge1xuICAgIG5vdzogbnVsbCxcbiAgICBzdGFydDogbnVsbCxcbiAgICBlbmQ6IG51bGwsXG4gICAgdXJnZW50OiBudWxsLFxuICB9O1xuXG4gIHRoaXMuZnJhZ21lbnRzID0ge1xuICAgIGQ6IG51bGwsXG4gICAgSDogbnVsbCxcbiAgICBpOiBudWxsLFxuICAgIHM6IG51bGwsXG4gIH07XG5cbiAgdGhpcy5pbnRlcnZhbCA9IG51bGw7XG5cbiAgdGhpcy5pbml0KCk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5DbG9ja0NvbXBvbmVudC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgZG9tLmFkZENsYXNzKHRoaXMucm9vdCwgXCJpbml0aWFsaXplZFwiKTtcblxuICB0aGlzLmluaXREYXRlcygpO1xuICB0aGlzLmluaXRGcmFnbWVudHMoKTtcbiAgdGhpcy5pbml0Q2xvY2soKTtcbiAgdGhpcy5zdGFydCgpO1xufTtcblxuQ2xvY2tDb21wb25lbnQucHJvdG90eXBlLmluaXREYXRlcyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5kYXRlcy5ub3cgPSBuZXcgRGF0ZSgpO1xuXG4gIC8vIGlmIHN0YXJ0IGRhdGUgaXMgZGVmaW5lZFxuICBpZiAodGhpcy5jb25maWcudHlwZSA9PT0gXCJkYXRlc1wiKSB7XG4gICAgdGhpcy5kYXRlcy5zdGFydCA9IG5ldyBEYXRlKHRoaXMuY29uZmlnLnN0YXJ0X2RhdGUpO1xuICAgIHRoaXMuZGF0ZXMuZW5kID0gbmV3IERhdGUodGhpcy5jb25maWcuZW5kX2RhdGUpO1xuICAgIHRoaXMuZGF0ZXMudXJnZW50ID0gbmV3IERhdGUodGhpcy5jb25maWcudXJnZW50X2RhdGUpO1xuICB9XG5cbiAgLy8gcmVsYXRpdmUgZGF0ZXNcbiAgaWYgKHRoaXMuY29uZmlnLnR5cGUgPT09IFwicmVsYXRpdmVcIikge1xuICAgIC8vIGN1cnJlbnQgc3VwcG9ydDogdG9kYXlcbiAgICB2YXIgZGF5U3RhcnQgPSBuZXcgRGF0ZSgpO1xuICAgIGRheVN0YXJ0LnNldEhvdXJzKDApO1xuICAgIGRheVN0YXJ0LnNldE1pbnV0ZXMoMCk7XG4gICAgZGF5U3RhcnQuc2V0U2Vjb25kcygwKTtcblxuICAgIHZhciBkYXlFbmQgPSBuZXcgRGF0ZSgpO1xuICAgIGRheUVuZC5zZXRIb3VycygyMyk7XG4gICAgZGF5RW5kLnNldE1pbnV0ZXMoNTkpO1xuICAgIGRheUVuZC5zZXRTZWNvbmRzKDU5KTtcblxuICAgIHRoaXMuZGF0ZXMuc3RhcnQgPSBuZXcgRGF0ZShkYXlTdGFydCk7XG4gICAgdGhpcy5kYXRlcy5lbmQgPSBuZXcgRGF0ZShkYXlFbmQpO1xuICAgIHRoaXMuZGF0ZXMudXJnZW50ID0gbmV3IERhdGUoZGF5RW5kKTtcbiAgfVxuXG4gIC8vIGlmIGludGVydmFsIGNsb2NrXG4gIGlmICh0aGlzLmNvbmZpZy50eXBlID09PSBcImludGVydmFsXCIgJiYgdGhpcy5jb25maWcuaW50ZXJ2YWwpIHtcbiAgICAvLyBsb2FkIGNvb2tpZSB3aXRoIGRlZmluZWQgZGF0ZXMgZm9yIHRoaXMgdXNlclxuICAgIHZhciBkYXRlc0Nvb2tpZU5hbWUgPSBbXCJiblwiLCB0aGlzLnJvb3QuaWRdLmpvaW4oXCItXCIpO1xuXG4gICAgdmFyIGRhdGVzQ29va2llUGFydHMgPSAoXCI7IFwiICsgZG9jdW1lbnQuY29va2llKS5zcGxpdChcbiAgICAgIGRhdGVzQ29va2llTmFtZSArIFwiPVwiXG4gICAgKTtcblxuICAgIHZhciBkYXRlc0Nvb2tpZVZhbHVlID1cbiAgICAgIGRhdGVzQ29va2llUGFydHMubGVuZ3RoID09PSAyXG4gICAgICAgID8gZGF0ZXNDb29raWVQYXJ0cy5wb3AoKS5zcGxpdChcIjtcIikuc2hpZnQoKVxuICAgICAgICA6IG51bGw7XG5cbiAgICB2YXIgc3RhcnREYXRlLCBlbmREYXRlO1xuXG4gICAgaWYgKGRhdGVzQ29va2llVmFsdWUpIHtcbiAgICAgIHZhciBjb29raWVEYXRlcyA9IGRhdGVzQ29va2llVmFsdWUuc3BsaXQoXCIvXCIpO1xuXG4gICAgICBzdGFydERhdGUgPSBuZXcgRGF0ZShwYXJzZUludChjb29raWVEYXRlc1swXSwgMTApKTtcbiAgICAgIGVuZERhdGUgPSBuZXcgRGF0ZShwYXJzZUludChjb29raWVEYXRlc1sxXSwgMTApKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhcnREYXRlID0gbmV3IERhdGUoKTtcbiAgICAgIGVuZERhdGUgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgdGhpcy5jb25maWcuaW50ZXJ2YWwgKiA2MCAqIDEwMDApO1xuXG4gICAgICBkb2N1bWVudC5jb29raWUgPVxuICAgICAgICBkYXRlc0Nvb2tpZU5hbWUgK1xuICAgICAgICBcIj1cIiArXG4gICAgICAgIFtzdGFydERhdGUuZ2V0VGltZSgpLCBlbmREYXRlLmdldFRpbWUoKV0uam9pbihcIi9cIikgK1xuICAgICAgICBcIjsgU2FtZVNpdGU9TGF4OyBwYXRoPS9cIjtcbiAgICB9XG5cbiAgICB0aGlzLmRhdGVzLnN0YXJ0ID0gbmV3IERhdGUoc3RhcnREYXRlKTtcbiAgICB0aGlzLmRhdGVzLmVuZCA9IG5ldyBEYXRlKGVuZERhdGUpO1xuICAgIHRoaXMuZGF0ZXMudXJnZW50ID0gbmV3IERhdGUoZW5kRGF0ZSk7XG4gIH1cblxuICB0aGlzLm9wdGlvbnMubGl2ZSA9IHRydWU7XG5cbiAgaWYgKHRoaXMubm90U3RhcnRlZFlldCgpKSB7XG4gICAgLy8gY29uc29sZS5sb2coYG5vdCBzdGFydGVkYCk7XG4gICAgdGhpcy5vcHRpb25zLnRpY2sgPSBmYWxzZTtcbiAgICB0aGlzLm9wdGlvbnMubGl2ZSA9IGZhbHNlO1xuXG4gICAgdGhpcy5oaWRlQXNzb2NpYXRlKFwibm90LXN0YXJ0ZWRcIik7XG4gICAgdGhpcy5oaWRlKCk7XG4gIH0gZWxzZSBpZiAodGhpcy5saW1pdFJlYWNoZWQoKSkge1xuICAgIC8vIGNvbnNvbGUubG9nKGBlbmRlZGApO1xuICAgIHRoaXMub3B0aW9ucy50aWNrID0gZmFsc2U7XG4gICAgdGhpcy5vcHRpb25zLmVuZGVkID0gdHJ1ZTtcblxuICAgIHRoaXMuaGlkZU9uRW5kKCk7XG4gIH1cbn07XG5cbkNsb2NrQ29tcG9uZW50LnByb3RvdHlwZS5pbml0RnJhZ21lbnRzID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmZyYWdtZW50cyA9IHtcbiAgICBkOiB0aGlzLnJvb3QucXVlcnlTZWxlY3RvcihcIi5iZW9uLWNsb2NrX19mcmFnbWVudC1kLCAuYm4tY2xvY2tfX2ZyYWctZFwiKSxcbiAgICBIOiB0aGlzLnJvb3QucXVlcnlTZWxlY3RvcihcIi5iZW9uLWNsb2NrX19mcmFnbWVudC1ILCAuYm4tY2xvY2tfX2ZyYWctSFwiKSxcbiAgICBpOiB0aGlzLnJvb3QucXVlcnlTZWxlY3RvcihcIi5iZW9uLWNsb2NrX19mcmFnbWVudC1pLCAuYm4tY2xvY2tfX2ZyYWctaVwiKSxcbiAgICBzOiB0aGlzLnJvb3QucXVlcnlTZWxlY3RvcihcIi5iZW9uLWNsb2NrX19mcmFnbWVudC1zLCAuYm4tY2xvY2tfX2ZyYWctc1wiKSxcbiAgfTtcblxuICBpZiAodGhpcy5jb25maWcuYWdncmVnYXRlRGF5cykge1xuICAgIGRvbS5hZGRDbGFzcyh0aGlzLnJvb3QsIFwiYmVvbi1jbG9jay0td2l0aG91dC1kYXlzXCIpO1xuICAgIHRoaXMuZnJhZ21lbnRzLmQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICB9XG59O1xuXG5DbG9ja0NvbXBvbmVudC5wcm90b3R5cGUuaW5pdENsb2NrID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnVwZGF0ZUZyYWdtZW50cygpO1xufTtcblxuLyoqXG4gKiBUaW1lIGNvbnRyb2xcbiAqL1xuXG4vLyBkaWZmIG5vdyBhbmQgZW5kXG5DbG9ja0NvbXBvbmVudC5wcm90b3R5cGUuZGlmZiA9IGZ1bmN0aW9uIChkMSwgZDIpIHtcbiAgdmFyIG1pbGlzZWNvbmRzLCBzZWNvbmRzLCBkaWZmO1xuXG4gIGRpZmYgPSB7IGQ6IDAsIEg6IDAsIGk6IDAsIHM6IDAgfTtcblxuICBpZiAodGhpcy5saW1pdFJlYWNoZWQoKSkge1xuICAgIHRoaXMuZW5kKCk7XG4gICAgdGhpcy5kYXRlcy5kaWZmID0gZGlmZjtcblxuICAgIHJldHVybiBkaWZmO1xuICB9XG5cbiAgbWlsaXNlY29uZHMgPSBkMS5nZXRUaW1lKCkgLSBkMi5nZXRUaW1lKCk7XG5cbiAgaWYgKG1pbGlzZWNvbmRzID4gMCkge1xuICAgIHNlY29uZHMgPSBtaWxpc2Vjb25kcyAvIDEwMDA7XG4gICAgZGlmZi5kID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gODY0MDApO1xuICAgIGRpZmYuSCA9IE1hdGguZmxvb3IoKHNlY29uZHMgLSBkaWZmLmQgKiA4NjQwMCkgLyAzNjAwKTtcbiAgICBkaWZmLmkgPSBNYXRoLmZsb29yKChzZWNvbmRzIC0gZGlmZi5kICogODY0MDAgLSBkaWZmLkggKiAzNjAwKSAvIDYwKTtcbiAgICBkaWZmLnMgPSBNYXRoLmZsb29yKHNlY29uZHMgLSBkaWZmLmQgKiA4NjQwMCAtIGRpZmYuSCAqIDM2MDAgLSBkaWZmLmkgKiA2MCk7XG5cbiAgICBpZiAodGhpcy5jb25maWcuYWdncmVnYXRlRGF5cykge1xuICAgICAgZGlmZi5IID0gZGlmZi5IICsgZGlmZi5kICogMjQ7XG4gICAgICBkaWZmLmQgPSAwO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMuZGF0ZXMuZGlmZiA9IGRpZmY7XG5cbiAgcmV0dXJuIGRpZmY7XG59O1xuXG5DbG9ja0NvbXBvbmVudC5wcm90b3R5cGUubm90U3RhcnRlZFlldCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gd2FsayBub3cgMTAwIG1pbGxpc2Vjb25kcyB0byBwcmV2ZW50IG1pY3Jvc2Vjb25kIGJ1Z1xuICB2YXIgbm93ID0gdGhpcy5kYXRlcy5ub3cuZ2V0VGltZSgpIC8gMTAwMCArIDEwMDtcbiAgdmFyIHN0YXJ0ID0gdGhpcy5kYXRlcy5zdGFydC5nZXRUaW1lKCkgLyAxMDAwO1xuXG4gIHJldHVybiBzdGFydCA+IG5vdztcbn07XG5cbkNsb2NrQ29tcG9uZW50LnByb3RvdHlwZS5saW1pdFJlYWNoZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBub3cgPSB0aGlzLmRhdGVzLm5vdy5nZXRUaW1lKCk7XG4gIHZhciBlbmQgPSB0aGlzLmRhdGVzLmVuZC5nZXRUaW1lKCk7XG5cbiAgcmV0dXJuIG5vdyA+IGVuZDtcbn07XG5cbkNsb2NrQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVOb3cgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZGF0ZXMubm93ID0gbmV3IERhdGUoKTtcbn07XG5cbkNsb2NrQ29tcG9uZW50LnByb3RvdHlwZS51cmdlbnRSZWFjaGVkID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5kYXRlcy51cmdlbnQpIHtcbiAgICB2YXIgbm93ID0gdGhpcy5kYXRlcy5ub3cuZ2V0VGltZSgpO1xuICAgIHZhciB1cmdlbnQgPSB0aGlzLmRhdGVzLnVyZ2VudC5nZXRUaW1lKCk7XG5cbiAgICByZXR1cm4gbm93ID4gdXJnZW50O1xuICB9XG5cbiAgcmV0dXJuIDA7XG59O1xuXG4vKipcbiAqIENsb2NrIGNvbnRyb2xcbiAqL1xuXG5DbG9ja0NvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlRnJhZ21lbnRzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgZGlmZiA9IE9iamVjdC5lbnRyaWVzKHRoaXMuZGlmZih0aGlzLmRhdGVzLmVuZCwgdGhpcy5kYXRlcy5ub3cpKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGRpZmYubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgW2ZyYWcsIHZhbHVlXSA9IGRpZmZbaV07XG4gICAgdGhpcy5zZXRGcmFnbWVudChmcmFnLCB2YWx1ZSk7XG4gIH1cbn07XG5cbkNsb2NrQ29tcG9uZW50LnByb3RvdHlwZS5zZXRGcmFnbWVudCA9IGZ1bmN0aW9uIChmcmFnLCB2YWx1ZSkge1xuICB2YXIgZm9ybWF0dGVkO1xuXG4gIGlmIChcbiAgICAodGhpcy5jb25maWcuYWdncmVnYXRlRGF5cyAmJiBmcmFnID09PSBcIkhcIikgfHxcbiAgICAoIXRoaXMuY29uZmlnLmFnZ3JlZ2F0ZURheXMgJiYgZnJhZyA9PT0gXCJkXCIpXG4gICkge1xuICAgIGZvcm1hdHRlZCA9IHZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoIDw9IDIgPyB0aGlzLnBhZCh2YWx1ZSwgMiwgXCIwXCIpIDogdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgZm9ybWF0dGVkID0gdGhpcy5wYWQodmFsdWUsIDIsIFwiMFwiKTtcbiAgfVxuXG4gIHRoaXMuZnJhZ21lbnRzW2ZyYWddLmlubmVyVGV4dCA9IGZvcm1hdHRlZDtcbn07XG5cbkNsb2NrQ29tcG9uZW50LnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMub3B0aW9ucy50aWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcCgpO1xuICB9XG5cbiAgdGhpcy51cGRhdGVOb3coKTtcbiAgdGhpcy51cGRhdGVGcmFnbWVudHMoKTtcblxuICBpZiAoIXRoaXMub3B0aW9ucy51cmdlbnQgJiYgdGhpcy51cmdlbnRSZWFjaGVkKCkpIHtcbiAgICB0aGlzLnVyZ2VudCgpO1xuICB9XG5cbiAgaWYgKHRoaXMubGltaXRSZWFjaGVkKCkpIHtcbiAgICB0aGlzLmVuZCgpO1xuICB9XG59O1xuXG5DbG9ja0NvbXBvbmVudC5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghdGhpcy5vcHRpb25zLmxpdmUpIHtcbiAgICByZXR1cm4gdGhpcy5zdG9wKCk7XG4gIH1cblxuICB0aGlzLmludGVydmFsID0gd2luZG93LnNldEludGVydmFsKHRoaXMudGljay5iaW5kKHRoaXMpLCAxMDAwKTtcbiAgdGhpcy5vcHRpb25zLnRpY2sgPSB0cnVlO1xufTtcblxuQ2xvY2tDb21wb25lbnQucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xuICB0aGlzLm9wdGlvbnMudGljayA9IGZhbHNlO1xufTtcblxuQ2xvY2tDb21wb25lbnQucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5zdG9wKCk7XG4gIHRoaXMuZW5kZWQgPSB0cnVlO1xuICBkb20uYWRkQ2xhc3ModGhpcy5yb290LCBcImVuZGVkXCIpO1xuXG4gIHRoaXMuaGlkZU9uRW5kKCk7XG59O1xuXG5DbG9ja0NvbXBvbmVudC5wcm90b3R5cGUudXJnZW50ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLm9wdGlvbnMudXJnZW50ID0gdHJ1ZTtcbiAgZG9tLmFkZENsYXNzKHRoaXMucm9vdCwgXCJ1cmdlbnRcIik7XG59O1xuXG5DbG9ja0NvbXBvbmVudC5wcm90b3R5cGUuaGlkZU9uRW5kID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5lbmRlZCAmJiB0aGlzLmNvbmZpZy5oaWRlT25FbmQpIHtcbiAgICB0aGlzLmhpZGVBc3NvY2lhdGUoXCJlbmRlZFwiKTtcbiAgICB0aGlzLmhpZGUoKTtcbiAgICBkb20uYWRkQ2xhc3ModGhpcy5yb290LCBcImJuLS1jbG9jay1lbmRlZFwiKTtcbiAgfVxufTtcblxuLy8gY2xvY2sgYXNzb2NpYXRlIGVsZW1lbnRzXG5DbG9ja0NvbXBvbmVudC5wcm90b3R5cGUuZ2V0QXNzb2NpYXRlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgYXNzb2NpYXRlSWQgPSB0aGlzLnJvb3QuZ2V0QXR0cmlidXRlKFwiZGF0YS1hc3NvY2lhdGUtaWRcIik7XG4gIHZhciBhc3NvY2lhdGVFbCA9IGFzc29jaWF0ZUlkID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXNzb2NpYXRlSWQpIDogbnVsbDtcblxuICB0aGlzLmFzc29jaWF0ZSA9IGFzc29jaWF0ZUVsO1xuXG4gIHJldHVybiB0aGlzLmFzc29jaWF0ZTtcbn07XG5cbkNsb2NrQ29tcG9uZW50LnByb3RvdHlwZS5oYXNBc3NvY2lhdGUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZ2V0QXNzb2NpYXRlKCk7XG4gIHJldHVybiB0aGlzLmFzc29jaWF0ZSA/IHRydWUgOiBmYWxzZTtcbn07XG5cbkNsb2NrQ29tcG9uZW50LnByb3RvdHlwZS5oaWRlQXNzb2NpYXRlID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICB2YXIgcmVhc29uID0gcmVhc29uIHx8IFwibm90LXN0YXJ0ZWRcIjtcblxuICBpZiAodGhpcy5oYXNBc3NvY2lhdGUoKSkge1xuICAgIHRoaXMuaGlkZSh0aGlzLmdldEFzc29jaWF0ZSgpKTtcbiAgICBkb20uYWRkQ2xhc3ModGhpcy5nZXRBc3NvY2lhdGUoKSwgXCJibi0tY2xvY2stXCIgKyByZWFzb24pO1xuICB9XG59O1xuXG5DbG9ja0NvbXBvbmVudC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIChlbCkge1xuICB2YXIgZWxUb0hpZGUgPSBlbCB8fCB0aGlzLnJvb3Q7XG4gIGRvbS5kaXNwbGF5KGVsVG9IaWRlLCBcIm5vbmVcIik7XG59O1xuXG4vKipcbiAqIHV0aWxzXG4gKi9cblxuQ2xvY2tDb21wb25lbnQucHJvdG90eXBlLnBhZCA9IGZ1bmN0aW9uIChzdHIsIHNpemUsIHBhZGRpbmcpIHtcbiAgc2l6ZSA9IHN0ci5sZW5ndGggPiBzaXplID8gc3RyLnBlbmd0aCA6IHNpemU7XG4gIHN0ciA9IHBhZGRpbmcucmVwZWF0KHNpemUpICsgc3RyO1xuXG4gIHJldHVybiBzdHIuc3Vic3RyKHN0ci5sZW5ndGggLSBzaXplKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENsb2NrQ29tcG9uZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIHZhciBzbGlkZXIgPSByZXF1aXJlKFwiLi9zbGlkZXJcIik7XG5pbXBvcnQgQ2xvY2tDb21wb25lbnQgZnJvbSBcIi4vY2xvY2tcIjtcblxudmFyIENsb2NrSW5pdGlhbGl6ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuY29tcG9uZW50Um9vdFNlbGVjdG9yID0gXCIuYmVvbi1jbG9ja1wiO1xuXG4gIC8vIGluaXRpYWxpemUgc2xpZGVycyBhbHJlYWR5IG9uIHBhZ2VcbiAgdGhpcy5pbml0Q29tcG9uZW50cygpO1xuXG4gIC8vIGJpbmQgZXZlbnRzIHRvIGluaXRpYWxpemUgc2xpZGVycyByZWFsIHRpbWVcbiAgdGhpcy5iaW5kRXZlbnRzKCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDbG9ja0luaXRpYWxpemVyO1xuXG5DbG9ja0luaXRpYWxpemVyLnByb3RvdHlwZS5iaW5kRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCB0aGlzLmluaXRDb21wb25lbnRzLmJpbmQodGhpcykpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgIFwiYmVvbi5idWRkeS5lbGVtZW50cy5oYW5kbGUuaXRlbS5pbmplY3Quc3VjY2Vzc1wiLFxuICAgIHRoaXMuaW5pdENvbXBvbmVudEZyb21JbmplY3Rpb24uYmluZCh0aGlzKVxuICApO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgIFwiYmVvbi5idWRkeS5pbmplY3QuYWZ0ZXJcIixcbiAgICB0aGlzLmluaXRDb21wb25lbnRGcm9tSW5qZWN0aW9uLmJpbmQodGhpcylcbiAgKTtcbn07XG5cbkNsb2NrSW5pdGlhbGl6ZXIucHJvdG90eXBlLmluaXRDb21wb25lbnRzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgY29tcG9uZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgdGhpcy5jb21wb25lbnRSb290U2VsZWN0b3IgKyBcIjpub3QoLmluaXRpYWxpemVkKVwiXG4gICk7XG5cbiAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoY29tcG9uZW50cykuZm9yRWFjaChcbiAgICBmdW5jdGlvbiAocm9vdCkge1xuICAgICAgdGhpcy5pbml0Q29tcG9uZW50KHJvb3QpO1xuICAgIH0uYmluZCh0aGlzKVxuICApO1xufTtcblxuQ2xvY2tJbml0aWFsaXplci5wcm90b3R5cGUuaW5pdENvbXBvbmVudEZyb21JbmplY3Rpb24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgdmFyIGNvbnRhaW5lciA9IGV2ZW50LmRldGFpbC5jb250YWluZXI7XG4gIHZhciByb290ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXG4gICAgdGhpcy5jb21wb25lbnRSb290U2VsZWN0b3IgKyBcIjpub3QoLmluaXRpYWxpemVkKVwiXG4gICk7XG5cbiAgaWYgKHJvb3QpIHtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJsb2FkaW5nXCIpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwiRE9NQ29udGVudExvYWRlZFwiLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhpcy5pbml0Q29tcG9uZW50KHJvb3QpO1xuICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdENvbXBvbmVudChyb290KTtcbiAgICB9XG4gIH1cbn07XG5cbkNsb2NrSW5pdGlhbGl6ZXIucHJvdG90eXBlLmluaXRDb21wb25lbnQgPSBmdW5jdGlvbiAocm9vdCkge1xuICB0cnkge1xuICAgIHdpbmRvdy5iZW9uX2luaXRfbG9nID0gd2luZG93LmJlb25faW5pdF9sb2cgfHwgW107XG5cbiAgICB2YXIgcmF3Q29uZmlnID0gcm9vdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbmZpZ1wiKTtcbiAgICB2YXIgcm9vdElkID0gcm9vdC5pZDtcbiAgICB2YXIgY29uZmlnID0gSlNPTi5wYXJzZShyYXdDb25maWcpO1xuXG4gICAgLy8gaWYgKHdpbmRvdy5iZW9uX2luaXRfbG9nLmluZGV4T2Yocm9vdElkKSA+IC0xKSB7XG4gICAgLy8gICBjb25zb2xlLmxvZyhcImNsb2NrIGFscmVhZHkgaW5pdGlhbGl6ZWQgXCIgKyByb290SWQpO1xuICAgIC8vICAgcmV0dXJuO1xuICAgIC8vIH1cblxuICAgIC8vIHdpbmRvdy5iZW9uX2luaXRfbG9nLnB1c2gocm9vdElkKTtcblxuICAgIG5ldyBDbG9ja0NvbXBvbmVudChyb290LCBjb25maWcpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coXCJmYWlsZWQgdG8gYnVpbGQgY29tcG9uZW50IFwiICsgdGhpcy5jb21wb25lbnRSb290U2VsZWN0b3IsIGUpO1xuICB9XG59O1xuXG4oZnVuY3Rpb24gKCkge1xuICBpZiAod2luZG93KSB3aW5kb3cuQmVvbkNsb2NrSW5pdGlhbGl6ZXIgPSBDbG9ja0luaXRpYWxpemVyO1xufSkoKTtcbiIsImNvbnN0IGhhc0NsYXNzID0gZnVuY3Rpb24gKGVsLCBjbGFzc05hbWUpIHtcbiAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChjbGFzc05hbWUgKyBcIlxcYlwiLCBcImltXCIpO1xuICByZXR1cm4gcmVnZXgudGVzdChlbC5jbGFzc05hbWUpO1xufTtcblxuY29uc3QgYWRkQ2xhc3MgPSBmdW5jdGlvbiAoZWwsIGNsYXNzTGlzdCkge1xuICB2YXIgY2xhc3NlcyA9IGNsYXNzTGlzdC5zcGxpdChcIixcIik7XG4gIHZhciBjbGFzc05hbWUgPSBlbC5jbGFzc05hbWU7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbGFzc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBjbGFzc2VzW2ldO1xuICAgIGNsYXNzTmFtZSA9XG4gICAgICBjbGFzc05hbWUuaW5kZXhPZihjdXJyZW50KSA8IDAgPyBjbGFzc05hbWUgKyBcIiBcIiArIGN1cnJlbnQgOiBjbGFzc05hbWU7XG4gIH1cblxuICBlbC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG59O1xuXG5jb25zdCByZW1vdmVDbGFzcyA9IGZ1bmN0aW9uIChlbCwgY2xhc3NMaXN0KSB7XG4gIHZhciBjbGFzc2VzID0gY2xhc3NMaXN0LnNwbGl0KFwiLFwiKTtcbiAgdmFyIGNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNsYXNzZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY3VycmVudCA9IG5ldyBSZWdFeHAoY2xhc3Nlc1tpXSwgXCJpbVwiKTtcbiAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUucmVwbGFjZShjdXJyZW50LCBcIlwiKTtcbiAgfVxuXG4gIGVsLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbn07XG5cbmNvbnN0IGRpc3BsYXkgPSBmdW5jdGlvbiAoZWwsIHZhbHVlKSB7XG4gIHJlbW92ZUNsYXNzKGVsLCBcImJuLS1ibG9jaywgYm4tLWZsZXgsIGJuLS1ncmlkLCBibi0taGlkZSwgYm4tLW5vbmVcIik7XG4gIGFkZENsYXNzKGVsLCBcImJuLS1cIiArIHZhbHVlKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0geyBoYXNDbGFzcywgYWRkQ2xhc3MsIHJlbW92ZUNsYXNzLCBkaXNwbGF5IH07XG4iLCJ2YXIgTWFnaWNGbGFnQ29tcG9uZW50ID0gZnVuY3Rpb24gKHJvb3QsIGNvbmZpZykge1xuICB0aGlzLnJvb3QgPSByb290O1xuXG4gIGlmICh3aW5kb3cuYmVvbmV2ZW50cyAmJiB3aW5kb3cuYmVvbmV2ZW50c1tjb25maWcuaWRdKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgW1xuICAgIGlkLFxuICAgIHR5cGUsXG4gICAgdmFyaWFudCxcbiAgICBwb3NpdGlvbixcbiAgICBjbGFzc05hbWUsXG4gICAgaW5uZXJIVE1MLFxuICAgIHNlYWxTcmMsXG4gICAgc3R5bGUsXG4gICAgaXRlbVF1ZXJ5LFxuICAgIGNvbnRhaW5lclF1ZXJ5LFxuICAgIHBsYWNlbWVudE9wZXJhdGlvbixcbiAgICBpdGVtc0lkcyxcbiAgXSA9IGNvbmZpZztcblxuICB0aGlzLmNvbmZpZyA9IE9iamVjdC5hc3NpZ24oXG4gICAge1xuICAgICAgaWQ6IHVuZGVmaW5lZCxcbiAgICAgIHR5cGU6IFwiZmxhZ1wiLFxuICAgICAgdmFyaWFudDogXCJzZWFsXCIsXG4gICAgICBwb3NpdGlvbjogXCI0NWRlZ1wiLFxuICAgICAgY2xhc3NOYW1lOiB1bmRlZmluZWQsXG4gICAgICBpbm5lckhUTUw6IHVuZGVmaW5lZCxcbiAgICAgIHNlYWxTcmM6IHVuZGVmaW5lZCxcbiAgICAgIHN0eWxlOiB1bmRlZmluZWQsXG4gICAgICBpdGVtUXVlcnk6IHVuZGVmaW5lZCxcbiAgICAgIGNvbnRhaW5lclF1ZXJ5OiBcInNlbGZcIixcbiAgICAgIHBsYWNlbWVudE9wZXJhdGlvbjogXCJhcHBlbmRcIixcbiAgICAgIGl0ZW1zSWRzOiBbXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkLFxuICAgICAgdHlwZSxcbiAgICAgIHZhcmlhbnQsXG4gICAgICBwb3NpdGlvbixcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIGlubmVySFRNTCxcbiAgICAgIHNlYWxTcmMsXG4gICAgICBzdHlsZSxcbiAgICAgIGl0ZW1RdWVyeSxcbiAgICAgIGNvbnRhaW5lclF1ZXJ5LFxuICAgICAgcGxhY2VtZW50T3BlcmF0aW9uLFxuICAgICAgaXRlbXNJZHMsXG4gICAgfVxuICApO1xuXG4gIHRoaXMuaW5pdCgpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuTWFnaWNGbGFnQ29tcG9uZW50LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnJvb3QuY2xhc3NOYW1lID0gdGhpcy5yb290LmNsYXNzTmFtZSArIFwiIGluaXRpYWxpemVkXCI7XG5cbiAgLy8gYWRkIHRhZ3NcbiAgdGhpcy5hZGQodGhpcy5jb25maWcpLnRoZW4oKHJlcykgPT4ge1xuICAgIGlmICh3aW5kb3cuYmVvbmV2ZW50cyAmJiB3aW5kb3cuYmVvbmV2ZW50c1t0aGlzLmNvbmZpZy5pZF0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3aW5kb3cuYmVvbmV2ZW50cyA9IHdpbmRvdy5iZW9uZXZlbnRzIHx8IHt9O1xuICAgIHdpbmRvdy5iZW9uZXZlbnRzW3RoaXMuY29uZmlnLmlkXSA9IHRydWU7XG4gIH0pO1xuXG4gIHZhciBkZWJvdW5jZTtcblxuICAvLyByZWFwbHkgb24gZXZlcnkgaW5qZWN0aW9uIGZyb20gbm93IG9uXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJiZW9uLmJ1ZGR5LnNsaWRlci5pbml0LmFmdGVyXCIsIChldmVudCkgPT4ge1xuICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoZGVib3VuY2UpO1xuICAgIGRlYm91bmNlID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coYGZsYWdzIGFkZCBhZnRlciBzbGlkZXIgaW5pdGlhbGl6ZWApO1xuICAgICAgdGhpcy5hZGQodGhpcy5jb25maWcsIGRvY3VtZW50KTtcbiAgICB9LCA1MDApO1xuICB9KTtcblxuICAvLyBzdXBwb3J0IGhhc2ggY2hhbmdlc1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImhhc2hjaGFuZ2VcIiwgKGV2ZW50KSA9PiB7XG4gICAgd2luZG93LmNsZWFyVGltZW91dChkZWJvdW5jZSk7XG4gICAgZGVib3VuY2UgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhgZmxhZ3MgYWRkIGFmdGVyIHdpbmRvdyBjaGFuZ2VgKTtcbiAgICAgIHRoaXMuYWRkKHRoaXMuY29uZmlnLCBkb2N1bWVudCk7XG4gICAgfSwgMTAwMCk7XG4gIH0pO1xufTtcblxuTWFnaWNGbGFnQ29tcG9uZW50LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAob3B0aW9ucywgY29udGFpbmVyKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShcbiAgICBmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgLy8gY29uc29sZS5sb2cob3B0aW9ucywgY29udGFpbmVyKTtcbiAgICAgIGxldCBjb250ZW50VGVtcGxhdGU7XG4gICAgICBjb250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQ7XG5cbiAgICAgIGlmIChvcHRpb25zLnZhcmlhbnQgPT09IFwiYnVsbGV0XCIpIHtcbiAgICAgICAgY29udGVudFRlbXBsYXRlID0gb3B0aW9ucy5pbm5lckhUTUw7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm9taXNlc0FycmF5ID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5pdGVtc0lkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwcm9taXNlc0FycmF5LnB1c2goXG4gICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHZhciBpdGVtRGVmaW5pdGlvbiA9IG9wdGlvbnMuaXRlbXNJZHNbaV07XG4gICAgICAgICAgICBsZXQgaXRlbUlkLCBhcmdzO1xuXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtRGVmaW5pdGlvbikpIHtcbiAgICAgICAgICAgICAgW2l0ZW1JZCwgLi4uYXJnc10gPSBpdGVtRGVmaW5pdGlvbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGl0ZW1JZCA9IGl0ZW1EZWZpbml0aW9uO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZWxlbWVudHNTZWxlY3RvciA9IG9wdGlvbnMuaXRlbVF1ZXJ5LnJlcGxhY2UoL3tpZH0vZ2ksIGl0ZW1JZCk7XG4gICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChlbGVtZW50c1NlbGVjdG9yKTtcblxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZWxlbWVudHNTZWxlY3RvciwgZWxlbWVudHMpO1xuXG4gICAgICAgICAgICBpZiAoIWVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMudHlwZSA9PT0gXCJkeW5hbWljXCIpIHtcbiAgICAgICAgICAgICAgY29uc3QgW2l0ZW1Jbm5lckh0bWwsIGl0ZW1DbGFzc05hbWVdID0gYXJncztcbiAgICAgICAgICAgICAgaWYgKGl0ZW1Jbm5lckh0bWwpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmlubmVySFRNTCA9IGNvbnRlbnRUZW1wbGF0ZVxuICAgICAgICAgICAgICAgICAgPyBjb250ZW50VGVtcGxhdGUucmVwbGFjZShcbiAgICAgICAgICAgICAgICAgICAgICBcInt4fVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGAgPHNwYW4gY2xhc3M9XCJkeW5hbWljX2luZm9cIj4ke2l0ZW1Jbm5lckh0bWx9PC9zcGFuPiBgXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIDogaXRlbUlubmVySHRtbDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG9wdGlvbnMuY2xhc3NOYW1lICs9IGl0ZW1DbGFzc05hbWUgfHwgXCJcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9XG4gICAgICAgICAgICAgICAgICBvcHRpb25zLmNvbnRhaW5lclF1ZXJ5ID09PSBcInNlbGZcIlxuICAgICAgICAgICAgICAgICAgICA/IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgOiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy5jb250YWluZXJRdWVyeSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXBhcmVudCkgcGFyZW50ID0gZWxlbWVudDtcblxuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kKHBhcmVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXNBcnJheSkudGhlbigocmVzKSA9PiByZXNvbHZlKHJlcykpO1xuICAgIH0uYmluZCh0aGlzKVxuICApO1xufTtcblxuTWFnaWNGbGFnQ29tcG9uZW50LnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAocGFyZW50LCBvcHRpb25zKSB7XG4gIC8vIGRvIG5vdCBkdXBsaWNhdGUgdGFnc1xuICB2YXIgZHVwbGljYXRlID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYmVvbi10YWdzLmJlb24tdGFnX19cIiArIG9wdGlvbnMuaWQpO1xuXG4gIGlmIChkdXBsaWNhdGUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgYnVsbGV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICB2YXIgY2xhc3NlcyA9IFtcbiAgICBcImJlb24tdGFnc1wiLFxuICAgIFwiYmVvbi10YWdfX1wiICsgb3B0aW9ucy5pZCxcbiAgICBcImJlb24tdGFnX19cIiArIG9wdGlvbnMucG9zaXRpb24sXG4gICAgXCJiZW9uLXRhZ19fXCIgKyBvcHRpb25zLnR5cGUsXG4gICAgXCJiZW9uLXRhZ19fXCIgKyBvcHRpb25zLnR5cGUgKyBcIi0tXCIgKyBvcHRpb25zLnZhcmlhbnQsXG4gICAgb3B0aW9ucy5jbGFzc05hbWUsXG4gIF07XG5cbiAgdmFyIHN0eWxlID0gb3B0aW9ucy5zdHlsZTtcblxuICBpZiAob3B0aW9ucy5zZWFsU3JjKVxuICAgIHN0eWxlICs9IFwiYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiICsgb3B0aW9ucy5zZWFsU3JjICsgXCIpO1wiO1xuXG4gIGJ1bGxldC5jbGFzc05hbWUgPSBjbGFzc2VzLmpvaW4oXCIgXCIpO1xuICBidWxsZXQuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgc3R5bGUpO1xuICBidWxsZXQuaW5uZXJIVE1MID0gb3B0aW9ucy5pbm5lckhUTUw7XG5cbiAgaWYgKG9wdGlvbnMucGxhY2VtZW50T3BlcmF0aW9uID09PSBcInJlcGxhY2VcIikge1xuICAgIHBhcmVudC5pbm5lckhUTUwgPSBcIlwiO1xuICB9XG5cbiAgcGFyZW50LmFwcGVuZENoaWxkKGJ1bGxldCk7XG5cbiAgLy8gcmVsYXRpdml6ZSBwYXJlbnQgcG9zaXRpb24gdG8gc3VwcG9ydCBmbG9hdGluZyB0YWdzXG4gIC8vIHZhciBwYXJlbnRTdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKHBhcmVudCk7XG4gIC8vIHZhciBwYXJlbnRQb3NpdGlvbiA9IHBhcmVudFN0eWxlcy5wb3NpdGlvbjtcblxuICAvLyBpZiAoIXBhcmVudFBvc2l0aW9uIHx8IHBhcmVudFBvc2l0aW9uID09PSBcInN0YXRpY1wiKSB7XG4gIC8vICAgcGFyZW50LnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuICAvLyB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBNYWdpY0ZsYWdDb21wb25lbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLy8gdmFyIHNsaWRlciA9IHJlcXVpcmUoXCIuL3NsaWRlclwiKTtcbmltcG9ydCBNYWdpY0ZsYWdDb21wb25lbnQgZnJvbSBcIi4vbWFnaWNmbGFnXCI7XG5cbnZhciBNYWdpY0ZsYWdJbml0aWFsaXplciA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5jb21wb25lbnRSb290U2VsZWN0b3IgPSBcIm1ldGFbbmFtZV49YmVvbi1tYWdpY2ZsYWddXCI7XG5cbiAgLy8gaW5pdGlhbGl6ZSBzbGlkZXJzIGFscmVhZHkgb24gcGFnZVxuICB0aGlzLmluaXRDb21wb25lbnRzKCk7XG5cbiAgLy8gYmluZCBldmVudHMgdG8gaW5pdGlhbGl6ZSBzbGlkZXJzIHJlYWwgdGltZVxuICB0aGlzLmJpbmRFdmVudHMoKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE1hZ2ljRmxhZ0luaXRpYWxpemVyO1xuXG5NYWdpY0ZsYWdJbml0aWFsaXplci5wcm90b3R5cGUuYmluZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgdGhpcy5pbml0Q29tcG9uZW50cy5iaW5kKHRoaXMpKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBcImJlb24uYnVkZHkuZWxlbWVudHMuaGFuZGxlLml0ZW0uaW5qZWN0LnN1Y2Nlc3NcIixcbiAgICB0aGlzLmluaXRDb21wb25lbnRGcm9tSW5qZWN0aW9uLmJpbmQodGhpcylcbiAgKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBcImJlb24uYnVkZHkuaW5qZWN0LmFmdGVyXCIsXG4gICAgdGhpcy5pbml0Q29tcG9uZW50RnJvbUluamVjdGlvbi5iaW5kKHRoaXMpXG4gICk7XG5cbiAgLy8gYXBwbHkgaW1tZWRpYXRseVxuICB0aGlzLmluaXRDb21wb25lbnRzKCk7XG59O1xuXG5NYWdpY0ZsYWdJbml0aWFsaXplci5wcm90b3R5cGUuaW5pdENvbXBvbmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBjb21wb25lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICB0aGlzLmNvbXBvbmVudFJvb3RTZWxlY3RvciArIFwiOm5vdCguaW5pdGlhbGl6ZWQpXCJcbiAgKTtcblxuICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjb21wb25lbnRzKS5mb3JFYWNoKFxuICAgIGZ1bmN0aW9uIChyb290KSB7XG4gICAgICB0aGlzLmluaXRDb21wb25lbnQocm9vdCk7XG4gICAgfS5iaW5kKHRoaXMpXG4gICk7XG59O1xuXG5NYWdpY0ZsYWdJbml0aWFsaXplci5wcm90b3R5cGUuaW5pdENvbXBvbmVudEZyb21JbmplY3Rpb24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgdmFyIGNvbnRhaW5lciA9IGV2ZW50LmRldGFpbC5jb250YWluZXI7XG4gIHZhciByb290ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXG4gICAgdGhpcy5jb21wb25lbnRSb290U2VsZWN0b3IgKyBcIjpub3QoLmluaXRpYWxpemVkKVwiXG4gICk7XG5cbiAgaWYgKHJvb3QpIHtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJsb2FkaW5nXCIpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwiRE9NQ29udGVudExvYWRlZFwiLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhpcy5pbml0Q29tcG9uZW50KHJvb3QpO1xuICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdENvbXBvbmVudChyb290KTtcbiAgICB9XG4gIH1cbn07XG5cbk1hZ2ljRmxhZ0luaXRpYWxpemVyLnByb3RvdHlwZS5pbml0Q29tcG9uZW50ID0gZnVuY3Rpb24gKHJvb3QpIHtcbiAgdHJ5IHtcbiAgICB3aW5kb3cuYmVvbl9pbml0X2xvZyA9IHdpbmRvdy5iZW9uX2luaXRfbG9nIHx8IFtdO1xuXG4gICAgdmFyIHJhd0NvbmZpZyA9IHJvb3QuZ2V0QXR0cmlidXRlKFwiZGF0YS1jb25maWdcIik7XG4gICAgdmFyIHJvb3RJZCA9IHJvb3QucGFyZW50Tm9kZS5pZDtcbiAgICB2YXIgY29uZmlnID0gSlNPTi5wYXJzZShyYXdDb25maWcpO1xuXG4gICAgaWYgKHdpbmRvdy5iZW9uX2luaXRfbG9nLmluZGV4T2Yocm9vdElkKSA+IC0xKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIm1hZ2ljZmxhZyBhbHJlYWR5IGluaXRpYWxpemVkIFwiICsgcm9vdElkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3aW5kb3cuYmVvbl9pbml0X2xvZy5wdXNoKHJvb3RJZCk7XG5cbiAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZXNvbHZlKG5ldyBNYWdpY0ZsYWdDb21wb25lbnQocm9vdCwgY29uZmlnKSk7XG4gICAgfSk7XG4gICAgLy8gbmV3IE1hZ2ljRmxhZ0NvbXBvbmVudChyb290LCBjb25maWcpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coXCJmYWlsZWQgdG8gYnVpbGQgY29tcG9uZW50IFwiICsgdGhpcy5jb21wb25lbnRSb290U2VsZWN0b3IsIGUpO1xuICB9XG59O1xuXG4oZnVuY3Rpb24gKCkge1xuICBpZiAod2luZG93KSB3aW5kb3cuQmVvbk1hZ2ljRmxhZ0luaXRpYWxpemVyID0gTWFnaWNGbGFnSW5pdGlhbGl6ZXI7XG59KSgpO1xuIiwidmFyIGRvbSA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL2RvbS5qc1wiKTtcblxudmFyIE5vdGlmaWNhdGlvbkNvbXBvbmVudCA9IGZ1bmN0aW9uIChyb290LCBjb25maWcpIHtcbiAgdGhpcy5yb290ID0gcm9vdDtcblxuICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgaXNfZGlzbWlzc2VkOiBmYWxzZSxcbiAgICB1dWlkOiB1bmRlZmluZWQsXG4gIH07XG5cbiAgdGhpcy5jb25maWcgPSBPYmplY3QuYXNzaWduKFxuICAgIHtcbiAgICAgIGF1dG9fZGlzbWlzczogNSwgLy8gaGlkZSBhZnRlciBuIHNlY29uZHNcbiAgICAgIGFsbG93X2Rpc21pc3M6IHRydWUsIC8vIGFsbG93IHVzZXIgdG8gZGlzbWlzc1xuICAgICAgYWxsb3dfcmVvcGVuOiB0cnVlLCAvLyBhbGxvdyB1c2VyIHRvIHJlb3BlbiBhZnRlciBkaXNtaXNzXG4gICAgICByZW9wZW5fYWZ0ZXI6IDAsIC8vIHdoZW4gZGlzbWlzc2VkLCByZW9wZW4gYWZ0ZXIgbiBpbXByZXNzaW9uc1xuICAgICAgZGlzbWlzc19sYWJlbDogXCJEaXNwZW5zYXJcIixcbiAgICAgIGRpc21pc3Nfc3R5bGU6IFwidGV4dFwiLCAvLyB0ZXh0IHRvIGlubGluZSBsYWJlbCwgdGltZXMgdG8geCBpY29uIG9uIHJpZ2h0IHVwcGVyIGNvcm5lclxuICAgIH0sXG4gICAgY29uZmlnXG4gICk7XG5cbiAgdGhpcy5pbml0KCk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5Ob3RpZmljYXRpb25Db21wb25lbnQucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghdGhpcy5yb290KSByZXR1cm47XG5cbiAgZG9tLmFkZENsYXNzKHRoaXMucm9vdCwgXCJpbml0aWFsaXplZFwiKTtcblxuICB0aGlzLm9wdGlvbnMudXVpZCA9IHRoaXMucm9vdC5wYXJlbnROb2RlLmlkO1xuXG4gIHRoaXMuaW5pdFN0b3JlZERhdGEoKTtcbiAgdGhpcy5pbml0RGlzbWlzc0JlaGF2aW91cigpO1xuICB0aGlzLmluaXRDdGFDbG9zZSgpO1xufTtcblxuLyoqXG4gKiBMb29rcyBmb3Igc3RvcmVkIGRhdGEgYWJvdXQgdGhpcyBub3RpZmljYXRpb24gYnkgaXRzIElELlxuICogU3RvcmVkIGRhdGEgY29udGFpbnMgc3RhdHVzIGluZm9ybWF0aW9uLCBsaWtlIGlmIGl0IGlzXG4gKiBkaXNtaXNzZWQsIG9yIGhvdyBtYW55IGltcHJlc3Npb25zIHRoaXMgY29tcG9uZW50ZSBob2xkcy5cbiAqL1xuTm90aWZpY2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5pbml0U3RvcmVkRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UpIHtcbiAgICB0aGlzLm9wdGlvbnMuaXNfZGlzbWlzc2VkID1cbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShbdGhpcy5vcHRpb25zLnV1aWQsIFwiZGlzbWlzc2VkXCJdLmpvaW4oXCJfXCIpKSB8fFxuICAgICAgZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS53YXJuKFwic3RvcmFnZSB1bnJlYWNoYWJsZVwiKTtcbiAgfVxufTtcblxuTm90aWZpY2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTdG9yZWREYXRhID0gZnVuY3Rpb24gKHByb3AsIHZhbHVlKSB7XG4gIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlKSB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFt0aGlzLm9wdGlvbnMudXVpZCwgcHJvcF0uam9pbihcIl9cIiksIHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLndhcm4oXCJzdG9yYWdlIHVucmVhY2hhYmxlXCIpO1xuICB9XG59O1xuXG4vKipcbiAqIEluaXQgZGlzbWlzcyBiZWhhdmlvdXIuXG4gKiBJZiB0aGlzIG5vdGlmaWNhdGlvbiBhbGxvdyBkaXNtaXNzZXMsIGFwcGVuZCBhIGxpbmsgdG8gaXQuXG4gKiBJZiBpcyBhdXRvLWRpc21pc3NlZCwgc2V0IGEgdGltZXMuXG4gKi9cbk5vdGlmaWNhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuaW5pdERpc21pc3NCZWhhdmlvdXIgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmNvbmZpZy5hbGxvd19kaXNtaXNzKSB7XG4gICAgdGhpcy5idWlsZERpc21pc3NDb250cm9sKCk7XG4gIH1cblxuICBpZiAodGhpcy5jb25maWcuYXV0b19kaXNtaXNzID4gMCkge1xuICAgIHRoaXMuaW5pdEF1dG9EaXNtaXNzKCk7XG4gIH1cblxuICBpZiAodGhpcy5vcHRpb25zLmlzX2Rpc21pc3NlZCkge1xuICAgIHJldHVybiB0aGlzLmRpc21pc3MoKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGhpcy5zaG93KCk7XG4gIH1cbn07XG5cbk5vdGlmaWNhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuYnVpbGREaXNtaXNzQ29udHJvbCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGNvbnRyb2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgY29udHJvbC5pbm5lclRleHQgPSB0aGlzLmNvbmZpZy5kaXNtaXNzX2xhYmVsO1xuICBjb250cm9sLmNsYXNzTmFtZSA9IFtcbiAgICBcImJlb24tbm90aWZpY2FjYW9fX2Rpc21pc3NcIixcbiAgICBcImJlb24tbm90aWZpY2FjYW9fX2Rpc21pc3MtLVwiICsgdGhpcy5jb25maWcuZGlzbWlzc19zdHlsZSxcbiAgXS5qb2luKFwiIFwiKTtcblxuICB0aGlzLnJvb3QuYXBwZW5kKGNvbnRyb2wpO1xuXG4gIGNvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuZGlzbWlzcy5iaW5kKHRoaXMpKTtcbn07XG5cbk5vdGlmaWNhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuaW5pdEF1dG9EaXNtaXNzID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnNldERpc21pc3NUaW1lb3V0KHRoaXMuY29uZmlnLmF1dG9fZGlzbWlzcyk7XG5cbiAgdGhpcy5yb290LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgXCJtb3VzZWVudGVyXCIsXG4gICAgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucm9vdF9tb3VzZW92ZXJfZGVib3VuY2UpO1xuICAgICAgdGhpcy5yb290X21vdXNlb3Zlcl9kZWJvdW5jZSA9IHdpbmRvdy5zZXRUaW1lb3V0KFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhpcy51bnNldERpc21pc3NUaW1lb3V0KCk7XG4gICAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgICAgMzAwXG4gICAgICApO1xuICAgIH0uYmluZCh0aGlzKVxuICApO1xuXG4gIHRoaXMucm9vdC5hZGRFdmVudExpc3RlbmVyKFxuICAgIFwibW91c2VsZWF2ZVwiLFxuICAgIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnJvb3RfbW91c2VvdXRfZGVib3VuY2UpO1xuICAgICAgdGhpcy5yb290X21vdXNlb3V0X2RlYm91bmNlID0gd2luZG93LnNldFRpbWVvdXQoXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoIXRoaXMuY29uZmlnLmFsbG93X2Rpc21pc3MpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RGlzbWlzc1RpbWVvdXQodGhpcy5jb25maWcuYXV0b19kaXNtaXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgICAgMzAwXG4gICAgICApO1xuICAgIH0uYmluZCh0aGlzKVxuICApO1xufTtcblxuTm90aWZpY2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5zZXREaXNtaXNzVGltZW91dCA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gIHRoaXMub3B0aW9ucy5kaXNtaXNzX3RpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChcbiAgICB0aGlzLmRpc21pc3MuYmluZCh0aGlzKSxcbiAgICAvLyBzdW1zIGFuaW1hdGlvbiB0aW1lXG4gICAgdGltZW91dCAqIDEwMDAgKyAyXG4gICk7XG59O1xuXG5Ob3RpZmljYXRpb25Db21wb25lbnQucHJvdG90eXBlLnVuc2V0RGlzbWlzc1RpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIHVuc2V0IG9ubHkgaWYgdXNlciBjYW4gZGlzbWlzcyBsYXRlclxuICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMub3B0aW9ucy5kaXNtaXNzX3RpbWVvdXQpO1xufTtcblxuTm90aWZpY2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5kaXNtaXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIGRvbS5hZGRDbGFzcyh0aGlzLnJvb3QsIFwiYmVvbi1ub3RpZmljYWNhby0tZGlzbWlzc2VkXCIpO1xuICBkb20ucmVtb3ZlQ2xhc3ModGhpcy5yb290LCBcImJlb24tbm90aWZpY2FjYW8tLW9wZW5lZFwiKTtcbiAgZG9tLmRpc3BsYXkodGhpcy5yb290LCBcIm5vbmVcIik7XG5cbiAgLy8gaWYgdGhlcmUgaXMgYW4gZXZlbnQsIHVzZXIgdHJpZ2dlcmVkIHRoaXNcbiAgaWYgKGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdG9yZWREYXRhKFwiZGlzbWlzc2VkXCIsIHRydWUpO1xuICB9XG59O1xuXG5Ob3RpZmljYXRpb25Db21wb25lbnQucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gIGlmIChkb20uaGFzQ2xhc3ModGhpcy5yb290LCBcImJuLS1ub25lXCIpKSB7XG4gICAgdGhpcy5kaXNtaXNzKCk7XG4gIH0gZWxzZSB7XG4gICAgZG9tLnJlbW92ZUNsYXNzKHRoaXMucm9vdCwgXCJiZW9uLW5vdGlmaWNhY2FvLS1kaXNtaXNzZWRcIik7XG4gICAgZG9tLmFkZENsYXNzKHRoaXMucm9vdCwgXCJiZW9uLW5vdGlmaWNhY2FvLS1vcGVuZWRcIik7XG4gICAgZG9tLmRpc3BsYXkodGhpcy5yb290LCBcImJsb2NrXCIpO1xuICB9XG59O1xuXG5Ob3RpZmljYXRpb25Db21wb25lbnQucHJvdG90eXBlLmluaXRDdGFDbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGN0YSA9IHRoaXMucm9vdC5xdWVyeVNlbGVjdG9yKFwiLmJlb24tbm90aWZpY2FjYW9fX2N0YVwiKTtcblxuICBpZiAoY3RhICYmIGN0YS5ocmVmLmluZGV4T2YoXCIjY2xvc2VcIikgPiAtMSkge1xuICAgIGN0YS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJjbGlja1wiLFxuICAgICAgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIHRoaXMuZGlzbWlzcygpO1xuICAgICAgfS5iaW5kKHRoaXMpXG4gICAgKTtcbiAgfVxufTtcblxuTm90aWZpY2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwbGF5ID0gZnVuY3Rpb24gKGVsLCB2YWx1ZSkge1xuICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMub3B0aW9ucy5kaXNwbGF5VGltZW91dCk7XG5cbiAgdGhpcy5vcHRpb25zLmRpc3BsYXlUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGRvbS5kaXNwbGF5KGVsLCB2YWx1ZSk7XG4gIH0sIDEwMDApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTm90aWZpY2F0aW9uQ29tcG9uZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCBOb3RpZmljYXRpb25Db21wb25lbnQgZnJvbSBcIi4vbm90aWZpY2F0aW9uXCI7XG5cbnZhciBOb3RpZmljYXRpb25Jbml0aWFsaXplciA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5jb21wb25lbnRSb290U2VsZWN0b3IgPSBcIi5iZW9uLW5vdGlmaWNhY2FvXCI7XG5cbiAgLy8gaW5pdGlhbGl6ZSBzbGlkZXJzIGFscmVhZHkgb24gcGFnZVxuICB0aGlzLmluaXRDb21wb25lbnRzKCk7XG5cbiAgLy8gYmluZCBldmVudHMgdG8gaW5pdGlhbGl6ZSBzbGlkZXJzIHJlYWwgdGltZVxuICB0aGlzLmJpbmRFdmVudHMoKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE5vdGlmaWNhdGlvbkluaXRpYWxpemVyO1xuXG5Ob3RpZmljYXRpb25Jbml0aWFsaXplci5wcm90b3R5cGUuYmluZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgdGhpcy5pbml0Q29tcG9uZW50cy5iaW5kKHRoaXMpKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBcImJlb24uYnVkZHkuZWxlbWVudHMuaGFuZGxlLml0ZW0uaW5qZWN0LnN1Y2Nlc3NcIixcbiAgICB0aGlzLmluaXRDb21wb25lbnRGcm9tSW5qZWN0aW9uLmJpbmQodGhpcylcbiAgKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBcImJlb24uYnVkZHkuaW5qZWN0LmFmdGVyXCIsXG4gICAgdGhpcy5pbml0Q29tcG9uZW50RnJvbUluamVjdGlvbi5iaW5kKHRoaXMpXG4gICk7XG59O1xuXG5Ob3RpZmljYXRpb25Jbml0aWFsaXplci5wcm90b3R5cGUuaW5pdENvbXBvbmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBjb21wb25lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICB0aGlzLmNvbXBvbmVudFJvb3RTZWxlY3RvciArIFwiOm5vdCguaW5pdGlhbGl6ZWQpXCJcbiAgKTtcblxuICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjb21wb25lbnRzKS5mb3JFYWNoKFxuICAgIGZ1bmN0aW9uIChyb290KSB7XG4gICAgICB0aGlzLmluaXRDb21wb25lbnQocm9vdCk7XG4gICAgfS5iaW5kKHRoaXMpXG4gICk7XG59O1xuXG5Ob3RpZmljYXRpb25Jbml0aWFsaXplci5wcm90b3R5cGUuaW5pdENvbXBvbmVudEZyb21JbmplY3Rpb24gPSBmdW5jdGlvbiAoXG4gIGV2ZW50XG4pIHtcbiAgdmFyIGNvbnRhaW5lciA9IGV2ZW50LmRldGFpbC5jb250YWluZXI7XG4gIHZhciByb290ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXG4gICAgdGhpcy5jb21wb25lbnRSb290U2VsZWN0b3IgKyBcIjpub3QoLmluaXRpYWxpemVkKVwiXG4gICk7XG5cbiAgaWYgKHJvb3QpIHtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJsb2FkaW5nXCIpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwiRE9NQ29udGVudExvYWRlZFwiLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhpcy5pbml0Q29tcG9uZW50KHJvb3QpO1xuICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdENvbXBvbmVudChyb290KTtcbiAgICB9XG4gIH1cbn07XG5cbk5vdGlmaWNhdGlvbkluaXRpYWxpemVyLnByb3RvdHlwZS5pbml0Q29tcG9uZW50ID0gZnVuY3Rpb24gKHJvb3QpIHtcbiAgdHJ5IHtcbiAgICB2YXIgcmF3Q29uZmlnID0gcm9vdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbmZpZ1wiKTtcbiAgICB2YXIgY29uZmlnID0gSlNPTi5wYXJzZShyYXdDb25maWcpO1xuXG4gICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcmVzb2x2ZShuZXcgTm90aWZpY2F0aW9uQ29tcG9uZW50KHJvb3QsIGNvbmZpZykpO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coXCJmYWlsZWQgdG8gYnVpbGQgY29tcG9uZW50IFwiICsgdGhpcy5jb21wb25lbnRSb290U2VsZWN0b3IsIGUpO1xuICB9XG59O1xuXG4oZnVuY3Rpb24gKCkge1xuICBpZiAod2luZG93KSB3aW5kb3cuQmVvbk5vdGlmaWNhdGlvbkluaXRpYWxpemVyID0gTm90aWZpY2F0aW9uSW5pdGlhbGl6ZXI7XG59KSgpO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiBtb2R1bGVbJ2RlZmF1bHQnXSA6XG5cdFx0KCkgPT4gbW9kdWxlO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obG9nZ2VyLCBkZWJ1Zykge1xuICAgIHZhciBsb2dnZXIgPSBsb2dnZXIgfHwgXCJiZW9uXCI7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghZGVidWcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuZm9yRWFjaChmdW5jdGlvbihsb2cpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbG9nID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhsb2dnZXIgKyBcIjogb2JqZWN0XCIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGxvZyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGxvZ2dlciArIFwiOiBcIiArIGxvZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHV1aWQgZnJvbSBcInV1aWRcIjtcbmltcG9ydCBsb2cgZnJvbSBcIi4vbG9nXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYWNrZXIoZW5naW5lLCBwYXJzZXIpIHtcbiAgdGhpcy5lbmdpbmUgPSBlbmdpbmU7XG4gIHRoaXMubG9nID0gbG9nKFwidHJhY2tlclwiLCB0aGlzLmVuZ2luZS5kZWJ1Zyk7XG5cbiAgdGhpcy5wYXJzZXIgPSBwYXJzZXI7XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIGluaXQgbWV0aG9kc1xudHJhY2tlci5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNvbnN1bWVUcmFja1F1ZXVlKCk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG50cmFja2VyLnByb3RvdHlwZS5jb25zdW1lVHJhY2tRdWV1ZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcXVldWUgPSB0aGlzLmVuZ2luZS5nZXRUcmFja1F1ZXVlKCk7XG4gIHF1ZXVlLmNvbnN1bWUodGhpcy50cmFjay5iaW5kKHRoaXMpKTtcbn07XG5cbnRyYWNrZXIucHJvdG90eXBlLnRyYWNrID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgdmFyIGV2ZW50VHlwZSA9IGV2ZW50LnNoaWZ0KCk7XG4gIHZhciB0eXBlID0gZXZlbnQuc2hpZnQoKTtcbiAgdmFyIGN1c3RvbVBheWxvYWQgPSBldmVudC5zaGlmdCgpO1xuXG4gIHN3aXRjaCAoZXZlbnRUeXBlKSB7XG4gICAgY2FzZSBcInBhZ2V2aWV3XCI6XG4gICAgICB0aGlzLnBhZ2V2aWV3KHR5cGUsIGN1c3RvbVBheWxvYWQpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFwiY2FydF91cGRhdGVcIjpcbiAgICBjYXNlIFwiY2FydFwiOlxuICAgICAgdGhpcy5jYXJ0VXBkYXRlKGN1c3RvbVBheWxvYWQpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFwiY3VzdG9tZXJfdXBkYXRlXCI6XG4gICAgY2FzZSBcImN1c3RvbWVyXCI6XG4gICAgICB0aGlzLmN1c3RvbWVyVXBkYXRlKGN1c3RvbVBheWxvYWQpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFwidHJhbnNhY3Rpb25cIjpcbiAgICAgIHRoaXMudHJhbnNhY3Rpb24oY3VzdG9tUGF5bG9hZCk7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICB0aGlzLmxvZyhcImludmFsaWQgbWV0aG9kIHRvIHRyYWNrXCIpO1xuICAgICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gZGlzcGF0Y2ggdHJhY2sgZXZlbnRcbiAgLy8gdGhpcyBhbGxvdyBwbHVnaW5zIHRvIGludGVyYWN0XG4gIHRoaXMuZW5naW5lLmRpc3BhdGNoRXZlbnQoXCJ0cmFja2VyLmRpc3BhdGNoLmRvbmVcIiwge1xuICAgIGV2ZW50VHlwZSxcbiAgICB0eXBlXG4gIH0pO1xufTtcblxuLyoqXG4gKiBFdmVudHMgaGFuZGxpbmdcbiAqL1xuXG50cmFja2VyLnByb3RvdHlwZS5wYWdldmlldyA9IGZ1bmN0aW9uKHR5cGUsIGN1c3RvbVBheWxvYWQpIHtcbiAgdmFyIHBheWxvYWQgPSBjdXN0b21QYXlsb2FkID8gY3VzdG9tUGF5bG9hZCgpIDogdGhpcy5wYXJzZXIucGFyc2UodHlwZSk7XG5cbiAgdmFyIHBhZ2V2aWV3ID0ge1xuICAgIGV2ZW50X2lkOiB1dWlkLnY0KCksXG4gICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIHR5cGU6IFwicGFnZXZpZXdcIixcbiAgICBwYXlsb2FkOiBPYmplY3QuYXNzaWduKFxuICAgICAge1xuICAgICAgICBwYWdlVHlwZTogdHlwZSxcbiAgICAgICAgdGl0bGU6IGRvY3VtZW50LnRpdGxlLFxuICAgICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAgICAgICByZWZlcmVyOiBkb2N1bWVudC5yZWZlcnJlclxuICAgICAgfSxcbiAgICAgIHBheWxvYWRcbiAgICApXG4gIH07XG5cbiAgYmVvbihcInNlbmRcIiwgXCJldmVudFwiLCBwYWdldmlldyk7XG4gIHRoaXMubG9nKHBhZ2V2aWV3KTtcblxuICByZXR1cm47XG59O1xuXG50cmFja2VyLnByb3RvdHlwZS5jYXJ0VXBkYXRlID0gZnVuY3Rpb24oY3VzdG9tUGF5bG9hZCkge1xuICB2YXIgcGF5bG9hZCA9IGN1c3RvbVBheWxvYWQgPyBjdXN0b21QYXlsb2FkKCkgOiB0aGlzLnBhcnNlci5wYXJzZShcImNhcnRcIik7XG5cbiAgdmFyIGV2ZW50ID0ge1xuICAgIGV2ZW50X2lkOiB1dWlkLnY0KCksXG4gICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIHR5cGU6IFwiY2FydFwiLFxuICAgIHBheWxvYWQ6IHBheWxvYWRcbiAgfTtcblxuICBiZW9uKFwic2VuZFwiLCBcImV2ZW50XCIsIGV2ZW50KTtcbiAgdGhpcy5sb2coZXZlbnQpO1xuXG4gIHJldHVybjtcbn07XG5cbnRyYWNrZXIucHJvdG90eXBlLmN1c3RvbWVyVXBkYXRlID0gZnVuY3Rpb24oY3VzdG9tUGF5bG9hZCkge1xuICB2YXIgcGF5bG9hZCA9IGN1c3RvbVBheWxvYWQgPyBjdXN0b21QYXlsb2FkKCkgOiB0aGlzLnBhcnNlci5wYXJzZShcImN1c3RvbWVyXCIpO1xuXG4gIHZhciBldmVudCA9IHtcbiAgICBldmVudF9pZDogdXVpZC52NCgpLFxuICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICB0eXBlOiBcImN1c3RvbWVyXCIsXG4gICAgcGF5bG9hZDogcGF5bG9hZFxuICB9O1xuXG4gIGJlb24oXCJzZW5kXCIsIFwiZXZlbnRcIiwgZXZlbnQpO1xuICB0aGlzLmxvZyhldmVudCk7XG5cbiAgcmV0dXJuO1xufTtcblxudHJhY2tlci5wcm90b3R5cGUudHJhbnNhY3Rpb24gPSBmdW5jdGlvbihjdXN0b21QYXlsb2FkKSB7XG4gIHZhciBwYXlsb2FkID0gY3VzdG9tUGF5bG9hZFxuICAgID8gY3VzdG9tUGF5bG9hZCgpXG4gICAgOiB0aGlzLnBhcnNlci5wYXJzZShcInRyYW5zYWN0aW9uXCIpO1xuXG4gIHZhciBldmVudCA9IHtcbiAgICBldmVudF9pZDogdXVpZC52NCgpLFxuICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICB0eXBlOiBcInRyYW5zYWN0aW9uXCIsXG4gICAgcGF5bG9hZDogcGF5bG9hZFxuICB9O1xuXG4gIGJlb24oXCJzZW5kXCIsIFwiZXZlbnRcIiwgZXZlbnQpO1xuICB0aGlzLmxvZyhldmVudCk7XG5cbiAgcmV0dXJuO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgbG9nIGZyb20gXCIuL2xvZ1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQYXJzZXIoKSB7XG4gIHRoaXMubG9nID0gbG9nKFwiUGFyc2VyXCIsIHRydWUpO1xuICByZXR1cm4gdGhpcztcbn1cblxuUGFyc2VyLnByb3RvdHlwZS5nZXREYXRhTGF5ZXIgPSBmdW5jdGlvbiAocmVnZXgsIGtleSwgdG9wQm90dG9tKSB7XG4gIHZhciBmb3VuZCA9IFtdO1xuICB2YXIga2V5ID0ga2V5IHx8IFwiZXZlbnRcIjtcblxuICBpZiAod2luZG93LmRhdGFMYXllcilcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdpbmRvdy5kYXRhTGF5ZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh3aW5kb3cuZGF0YUxheWVyW2ldW2tleV0gJiYgcmVnZXgudGVzdCh3aW5kb3cuZGF0YUxheWVyW2ldW2tleV0pKSB7XG4gICAgICAgIGZvdW5kLnB1c2god2luZG93LmRhdGFMYXllcltpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gIHJldHVybiB0b3BCb3R0b20gPT09IFwiYm90dG9tXCIgPyBmb3VuZC5wb3AoKSA6IGZvdW5kLnNoaWZ0KCk7XG59O1xuXG5QYXJzZXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgdmFyIHBhcnNlID0gdW5kZWZpbmVkO1xuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgXCJob21lcGFnZVwiOlxuICAgICAgcGFyc2UgPSB0aGlzLnBhcnNlSG9tZXBhZ2UoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBcInByb2R1Y3RcIjpcbiAgICAgIHBhcnNlID0gdGhpcy5wYXJzZVByb2R1Y3QoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBcImNhdGFsb2dcIjpcbiAgICAgIHBhcnNlID0gdGhpcy5wYXJzZUNhdGFsb2coKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBcImNhcnRcIjpcbiAgICAgIHBhcnNlID0gdGhpcy5wYXJzZUNhcnQoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBcImN1c3RvbWVyXCI6XG4gICAgICBwYXJzZSA9IHRoaXMucGFyc2VDdXN0b21lcigpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFwidHJhbnNhY3Rpb25cIjpcbiAgICAgIHBhcnNlID0gdGhpcy5wYXJzZVRyYW5zYWN0aW9uKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgXCJzZWFyY2hcIjpcbiAgICAgIHBhcnNlID0gdGhpcy5wYXJzZVNlYXJjaCgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFwibm90Zm91bmRcIjpcbiAgICAgIHBhcnNlID0gdGhpcy5wYXJzZU5vdGZvdW5kKCk7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIHJldHVybiBwYXJzZSB8fCB7fTtcbn07XG5cblBhcnNlci5wcm90b3R5cGUucGFyc2VIb21lcGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHt9O1xufTtcblxuUGFyc2VyLnByb3RvdHlwZS5wYXJzZVByb2R1Y3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgc2t1OiB1bmRlZmluZWQsXG4gICAgcHJvZHVjdF9pZDogdW5kZWZpbmVkLFxuICB9O1xufTtcblxuUGFyc2VyLnByb3RvdHlwZS5wYXJzZUNhdGFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgdHJlZXM6IHVuZGVmaW5lZCxcbiAgfTtcbn07XG5cblBhcnNlci5wcm90b3R5cGUucGFyc2VDYXJ0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIGl0ZW1zOiB1bmRlZmluZWQsXG4gICAgc3VidG90YWw6IHVuZGVmaW5lZCxcbiAgICBjb3Vwb246IHVuZGVmaW5lZCxcbiAgICBzaGlwcGluZzoge1xuICAgICAgcG9zdGNvZGU6IHVuZGVmaW5lZCxcbiAgICAgIHByaWNlOiB1bmRlZmluZWQsXG4gICAgICBtZXRob2Q6IHVuZGVmaW5lZCxcbiAgICB9LFxuICB9O1xufTtcblxuUGFyc2VyLnByb3RvdHlwZS5wYXJzZVRyYW5zYWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIGl0ZW1zOiB1bmRlZmluZWQsXG4gICAgc3VidG90YWw6IHVuZGVmaW5lZCxcbiAgICBjb3Vwb246IHVuZGVmaW5lZCxcbiAgICBzaGlwcGluZzoge1xuICAgICAgcG9zdGNvZGU6IHVuZGVmaW5lZCxcbiAgICAgIHByaWNlOiB1bmRlZmluZWQsXG4gICAgICBtZXRob2Q6IHVuZGVmaW5lZCxcbiAgICB9LFxuICAgIGN1c3RvbWVyOiB7XG4gICAgICBlbWFpbDogdW5kZWZpbmVkLFxuICAgICAgbmFtZTogdW5kZWZpbmVkLFxuICAgIH0sXG4gICAgcGF5bWVudHM6IHVuZGVmaW5lZCxcbiAgfTtcbn07XG5cblBhcnNlci5wcm90b3R5cGUucGFyc2VDdXN0b21lciA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICBlbWFpbDogdW5kZWZpbmVkLFxuICAgIG5hbWU6IHVuZGVmaW5lZCxcbiAgICBwb3N0Y29kZTogdW5kZWZpbmVkLFxuICB9O1xufTtcblxuUGFyc2VyLnByb3RvdHlwZS5wYXJzZVNlYXJjaCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHt9O1xufTtcblxuUGFyc2VyLnByb3RvdHlwZS5wYXJzZU5vdGZvdW5kID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge307XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIGltcG9ydCB0cmFja2VyXG5pbXBvcnQgdHJhY2tlciBmcm9tIFwiLi4vdjQvdHJhY2tlclwiO1xuaW1wb3J0IFBhcnNlciBmcm9tIFwiLi4vdjQvcGFyc2VyXCI7XG5cbnZhciBCZW9uQ3VzdG9tID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJlb25DdXN0b207XG5cbkJlb25DdXN0b20ucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuaW5pdFBhcnNlcigpO1xuICB0aGlzLmluaXRUcmFja2VyKCk7XG4gIHRoaXMuaW5pdEN1c3RvbVRyaWdnZXJzKCk7XG59O1xuXG5CZW9uQ3VzdG9tLnByb3RvdHlwZS5pbml0UGFyc2VyID0gZnVuY3Rpb24gKHBhcnNlcikge1xuICB0aGlzLnBhcnNlciA9IHBhcnNlciB8fCBuZXcgUGFyc2VyKCk7XG4gIHJldHVybiB0aGlzLnBhcnNlcjtcbn07XG5cbi8vIGluaXQgYW5kIGV4dGVuZCB0cmFja2VyIGZvbGxvd2luZyBjbGllbnQgZGVmaW5pdGlvbnNcbkJlb25DdXN0b20ucHJvdG90eXBlLmluaXRUcmFja2VyID0gZnVuY3Rpb24gKCkge1xuICAvLyBpbml0IHRyYWNrZXJcbiAgdGhpcy50cmFja2VyID0gbmV3IHRyYWNrZXIod2luZG93LmJlb25lLCB0aGlzLnBhcnNlcik7XG4gIHRoaXMudHJhY2tlci5pbml0KCk7XG59O1xuXG4vKipcbiAqIERlZmluZSBjdXN0b20gdHJpZ2dlcnMgdGhhdCBjYWxscyBiZW9uIHRyYWNrIG1ldGhvZC5cbiAqIFVzZWZ1bGwgdG8gdHJhY2sgcGFnZXMgb2ZmIG9mIEdUTS5cbiAqL1xuQmVvbkN1c3RvbS5wcm90b3R5cGUuaW5pdEN1c3RvbVRyaWdnZXJzID0gZnVuY3Rpb24gKCkge307XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IFBhcnNlciBmcm9tIFwiLi4vLi4vcGFyc2VyXCI7XG5cbnZhciBWdGV4UGFyc2VyID0gUGFyc2VyO1xuZXhwb3J0IGRlZmF1bHQgVnRleFBhcnNlcjtcblxudmFyIHRyZWVJZENvbXBvc2UgPSAoc3RyKSA9PlxuICBzdHJcbiAgICAudG9Mb3dlckNhc2UoKVxuICAgIC5yZXBsYWNlKC9cXHMvZ2ksIFwiX1wiKVxuICAgIC5yZXBsYWNlKC8oW1xceEUwLVxceEZGXSkvZ2ksIChpbnB1dCkgPT4ge1xuICAgICAgY29uc3QgY2hhcmxpc3QgPSBbXG4gICAgICAgIFsvW1xceEUwLVxceEU2XS9nLCBcImFcIl0sXG4gICAgICAgIFsvW1xceEU4LVxceEVCXS9nLCBcImVcIl0sXG4gICAgICAgIFsvW1xceEVDLVxceEVGXS9nLCBcImlcIl0sXG4gICAgICAgIFsvW1xceEYyLVxceEY2XS9nLCBcIm9cIl0sXG4gICAgICAgIFsvW1xceEY5LVxceEZDXS9nLCBcInVcIl0sXG4gICAgICAgIFsvXFx4RTcvZywgXCJjXCJdLFxuICAgICAgICBbL1xceEYxL2csIFwiblwiXSxcbiAgICAgIF07XG4gICAgICBjb25zdCBmb3VuZCA9IGNoYXJsaXN0LmZpbmQoKG0pID0+IG1bMF0udGVzdChpbnB1dCkpO1xuICAgICAgcmV0dXJuIGZvdW5kID8gZm91bmRbMV0gOiBpbnB1dDtcbiAgICB9KVxuICAgIC5yZXBsYWNlKC9cXFcvZ2ksIFwiXCIpO1xuXG5WdGV4UGFyc2VyLnByb3RvdHlwZS5wYXJzZVByb2R1Y3QgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzb3VyY2UgPSB0aGlzLmdldERhdGFMYXllcigvcHJvZHVjdC9pLCBcInBhZ2VDYXRlZ29yeVwiKTtcblxuICBpZiAoIXNvdXJjZSkge1xuICAgIHRoaXMubG9nKFwiZW1wdHkgc291cmNlIGF0IHBhcnNlUHJvZHVjdCBwYXJzZXJcIik7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgLy8gQHRvZG8gc2VsZWN0IGN1cnJlbnQgcHJvZHVjdCBza3UgdG8gdHJhY2sgcGFnZXZpZXdcbiAgcmV0dXJuIHtcbiAgICBza3U6IE9iamVjdC5rZXlzKHNvdXJjZS5za3VTdG9ja3MpLnNoaWZ0KCksXG4gICAgcHJvZHVjdF9pZDogc291cmNlLnByb2R1Y3RJZCxcbiAgfTtcbn07XG5cblZ0ZXhQYXJzZXIucHJvdG90eXBlLnBhcnNlQ2F0YWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0RGF0YUxheWVyKC8oY2F0ZWdvcnl8ZGVwYXJ0bWVudCkvaSwgXCJwYWdlQ2F0ZWdvcnlcIik7XG5cbiAgaWYgKCFzb3VyY2UpIHtcbiAgICB0aGlzLmxvZyhcImVtcHR5IHNvdXJjZSBhdCBwYXJzZUNhdGFsb2cgcGFyc2VyXCIpO1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIHZhciB0cmVlcyA9IFtdO1xuXG4gIGlmIChzb3VyY2UucGFnZUNhdGVnb3J5ID09IFwiQ2F0ZWdvcnlcIikge1xuICAgIHRyZWVzLnB1c2goe1xuICAgICAga2luZDogXCJjYXRlZ29yeVwiLFxuICAgICAgdHJlZV9pZDogdHJlZUlkQ29tcG9zZShzb3VyY2UuY2F0ZWdvcnlOYW1lIHx8IHNvdXJjZS5wYWdlVGl0bGUpLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKHNvdXJjZS5wYWdlRGVwYXJ0bWVudCkge1xuICAgIHRyZWVzLnB1c2goe1xuICAgICAga2luZDogXCJkZXBhcnRtZW50XCIsXG4gICAgICB0cmVlX2lkOiB0cmVlSWRDb21wb3NlKHNvdXJjZS5wYWdlRGVwYXJ0bWVudCksXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRyZWVzOiB0cmVlcyxcbiAgfTtcbn07XG5cblZ0ZXhQYXJzZXIucHJvdG90eXBlLnBhcnNlQ2FydCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMucGFyc2VPcmRlckZvcm0oKTtcbn07XG5cblZ0ZXhQYXJzZXIucHJvdG90eXBlLnBhcnNlVHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnBhcnNlVHJhbnNhY3Rpb25JbmZvKCk7XG59O1xuXG5WdGV4UGFyc2VyLnByb3RvdHlwZS5wYXJzZUN1c3RvbWVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgb3JkZXJGb3JtID0gdGhpcy5wYXJzZU9yZGVyRm9ybSgpO1xuICB2YXIgY3VzdG9tZXIgPSB7fTtcblxuICBpZiAoIW9yZGVyRm9ybSkge1xuICAgIHRoaXMubG9nKFwiaW52YWxpZCBvcmRlckZvcm0gYXQgcGFyc2VDdXN0b21lciBwYXJzZXJcIik7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgaWYgKG9yZGVyRm9ybS5jdXN0b21lciAmJiBvcmRlckZvcm0uY3VzdG9tZXIuZW1haWwpXG4gICAgY3VzdG9tZXIuZW1haWwgPSBvcmRlckZvcm0uY3VzdG9tZXIuZW1haWw7XG5cbiAgaWYgKG9yZGVyRm9ybS5jdXN0b21lciAmJiBvcmRlckZvcm0uY3VzdG9tZXIubmFtZSlcbiAgICBjdXN0b21lci5uYW1lID0gb3JkZXJGb3JtLmN1c3RvbWVyLm5hbWU7XG5cbiAgaWYgKG9yZGVyRm9ybS5zaGlwcGluZyAmJiBvcmRlckZvcm0uc2hpcHBpbmcucG9zdGNvZGUpXG4gICAgY3VzdG9tZXIucG9zdGNvZGUgPSBvcmRlckZvcm0uc2hpcHBpbmcucG9zdGNvZGU7XG5cbiAgcmV0dXJuIGN1c3RvbWVyO1xufTtcblxuVnRleFBhcnNlci5wcm90b3R5cGUucGFyc2VTZWFyY2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWFyY2ggPSB7IHRlcm06IHVuZGVmaW5lZCwgcmVzdWx0czogdW5kZWZpbmVkIH07XG4gIHZhciBzb3VyY2UgPSB0aGlzLmdldERhdGFMYXllcigvSW50ZXJuYWxTaXRlU2VhcmNoL2ksIFwicGFnZUNhdGVnb3J5XCIpO1xuXG4gIGlmIChzb3VyY2UpIHtcbiAgICBzZWFyY2gudGVybSA9IHNvdXJjZS5zaXRlU2VhcmNoVGVybTtcbiAgICBzZWFyY2gucmVzdWx0c19jb3VudCA9IHNvdXJjZS5zaXRlU2VhcmNoUmVzdWx0cztcbiAgfVxuXG4gIHJldHVybiBzZWFyY2g7XG59O1xuXG5WdGV4UGFyc2VyLnByb3RvdHlwZS5wYXJzZU9yZGVyRm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0RGF0YUxheWVyKFxuICAgIC9eKGNhcnRMb2FkZWR8Y2FydHxlbWFpbHxzaGlwcGluZ3xwYXltZW50fG9yZGVyUGxhY2VkKSQvaSxcbiAgICBcImV2ZW50XCJcbiAgKTtcblxuICBpZiAoIXNvdXJjZSkge1xuICAgIHRoaXMubG9nKFwiZW1wdHkgc291cmNlIGF0IHBhcnNlT3JkZXJGb3JtIHBhcnNlclwiKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgdmFyIGZvcm0gPSB7XG4gICAgaXRlbXM6IFtdLFxuICAgIHN1YnRvdGFsOiBudWxsLFxuICAgIGNvdXBvbnM6IFtdLFxuICAgIHNoaXBwaW5nOiB7XG4gICAgICBwb3N0Y29kZTogbnVsbCxcbiAgICAgIHByaWNlOiBudWxsLFxuICAgICAgbWV0aG9kOiBudWxsLFxuICAgIH0sXG4gICAgY3VzdG9tZXI6IHtcbiAgICAgIGVtYWlsOiBudWxsLFxuICAgICAgbmFtZTogbnVsbCxcbiAgICB9LFxuICAgIHBheW1lbnRzOiBbXSxcbiAgfTtcblxuICBpZiAoc291cmNlLm9yZGVyRm9ybVByb2R1Y3RzKVxuICAgIGZvciAodmFyIGkgaW4gc291cmNlLm9yZGVyRm9ybVByb2R1Y3RzKSB7XG4gICAgICB2YXIgaXRlbSA9IHNvdXJjZS5vcmRlckZvcm1Qcm9kdWN0c1tpXTtcbiAgICAgIGZvcm0uaXRlbXMucHVzaCh7XG4gICAgICAgIHByb2R1Y3RfaWQ6IGl0ZW0uaWQsXG4gICAgICAgIHNrdTogaXRlbS5za3UsXG4gICAgICAgIHF0eTogaXRlbS5xdWFudGl0eSxcbiAgICAgICAgcHJpY2VfdG86IGl0ZW0ucHJpY2UsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgaWYgKHNvdXJjZS5vcmRlckZvcm1Qcm9tb0NvZGUpIGZvcm0uY291cG9ucy5wdXNoKHNvdXJjZS5vcmRlckZvcm1Qcm9tb0NvZGUpO1xuXG4gIGlmIChzb3VyY2Uub3JkZXJGb3JtVG90YWwpIGZvcm0uc3VidG90YWwgPSBzb3VyY2Uub3JkZXJGb3JtVG90YWwgLyAxMDA7XG5cbiAgaWYgKHNvdXJjZS5vcmRlckZvcm1TaGlwcGluZykge1xuICAgIGZvcm0uc2hpcHBpbmcucG9zdGNvZGUgPSBzb3VyY2UudmlzaXRvckRlbW9ncmFwaGljSW5mb1swXTtcbiAgICBmb3JtLnNoaXBwaW5nLnByaWNlID0gc291cmNlLm9yZGVyRm9ybVNoaXBwaW5nO1xuICAgIGZvcm0uc2hpcHBpbmcubWV0aG9kID0gc291cmNlLm9yZGVyRm9ybVNoaXBwaW5nTWV0aG9kO1xuICB9XG5cbiAgaWYgKHNvdXJjZS52aXNpdG9yQ29udGFjdEluZm8pIHtcbiAgICBmb3JtLmN1c3RvbWVyLmVtYWlsID0gc291cmNlLnZpc2l0b3JDb250YWN0SW5mby5zaGlmdCgpO1xuICAgIGZvcm0uY3VzdG9tZXIubmFtZSA9IHNvdXJjZS52aXNpdG9yQ29udGFjdEluZm8uam9pbihcIiBcIik7XG4gIH1cblxuICBpZiAoc291cmNlLm9yZGVyRm9ybVBheW1lbnRUeXBlKSB7XG4gICAgZm9ybS5wYXltZW50cy5wdXNoKHNvdXJjZS5vcmRlckZvcm1QYXltZW50VHlwZSk7XG4gIH1cblxuICByZXR1cm4gZm9ybTtcbn07XG5cblZ0ZXhQYXJzZXIucHJvdG90eXBlLnBhcnNlVHJhbnNhY3Rpb25JbmZvID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc291cmNlID0gdGhpcy5nZXREYXRhTGF5ZXIoL29yZGVyUGxhY2VkL2kpO1xuXG4gIGlmICghc291cmNlKSB7XG4gICAgdGhpcy5sb2coXCJlbXB0eSBzb3VyY2UgYXQgcGFyc2VUcmFuc2FjdGlvbkluZm8gcGFyc2VyXCIpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICB2YXIgdHJhbnNhY3Rpb24gPSB7XG4gICAgaWQ6IG51bGwsXG4gICAgaXRlbXM6IFtdLFxuICAgIHRvdGFsOiBudWxsLFxuICAgIHNoaXBwaW5nOiB7XG4gICAgICBwcmljZTogbnVsbCxcbiAgICAgIG1ldGhvZDogbnVsbCxcbiAgICAgIHBvc3Rjb2RlOiBudWxsLFxuICAgIH0sXG4gICAgcGF5bWVudHM6IFtdLFxuICB9O1xuXG4gIHRyYW5zYWN0aW9uLmlkID0gc291cmNlLnRyYW5zYWN0aW9uSWQ7XG4gIHRyYW5zYWN0aW9uLnRvdGFsID0gc291cmNlLnRyYW5zYWN0aW9uVG90YWw7XG5cbiAgZm9yICh2YXIgaSBpbiBzb3VyY2UudHJhbnNhY3Rpb25Qcm9kdWN0cykge1xuICAgIHZhciBpdGVtID0gc291cmNlLnRyYW5zYWN0aW9uUHJvZHVjdHNbaV07XG4gICAgdHJhbnNhY3Rpb24uaXRlbXMucHVzaCh7XG4gICAgICBwcm9kdWN0X2lkOiBpdGVtLmlkLFxuICAgICAgc2t1OiBpdGVtLnNrdSxcbiAgICAgIHF0eTogaXRlbS5xdWFudGl0eSxcbiAgICAgIHByaWNlX3RvOiBpdGVtLnByaWNlLFxuICAgIH0pO1xuICB9XG5cbiAgdHJhbnNhY3Rpb24uc2hpcHBpbmcucHJpY2UgPSBzb3VyY2UudHJhbnNhY3Rpb25TaGlwcGluZztcblxuICBmb3IgKHZhciBpID0gc291cmNlLnRyYW5zYWN0aW9uUGF5bWVudFR5cGUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgcGF5bWVudCA9IHNvdXJjZS50cmFuc2FjdGlvblBheW1lbnRUeXBlW2ldO1xuICAgIHRyYW5zYWN0aW9uLnBheW1lbnRzLnB1c2gocGF5bWVudC5ncm91cCk7XG4gIH1cblxuICByZXR1cm4gdHJhbnNhY3Rpb247XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCBsb2cgZnJvbSBcIi4uLy4uL2xvZ1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2dGV4KG9wdGlvbnMpIHtcbiAgdGhpcy5sb2cgPSBsb2coYHZ0ZXhfcGx1Z2luYCwgdHJ1ZSk7XG5cbiAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgIC8vIGlmIHRydWUsIHRyYWNrIGNhcnQgb24gaW5pdGlhbGl6YXRpb25cbiAgICBpbW1lZGlhdGU6IGZhbHNlLFxuICAgIC8vIG5vbmUgfCBkZWJvdW5jZSB8IGludGVydmFsXG4gICAgc3RyYXRlZ3k6IFwibm9uZVwiLFxuICAgIGludGVydmFsRGVsYXk6IC0xLFxuICAgIGRlYm91bmNlRGVsYXk6IC0xLFxuICB9O1xuXG4gIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gIHRoaXMuaW5pdENhcnRQb29sKCk7XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbnZ0ZXgucHJvdG90eXBlLmluaXRDYXJ0UG9vbCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gaWYgaW50ZXJ2YWwgb3IgZGVib3VuY2UsIGxpc3RlbiB0byB0cmFjayBkb25lIGV2ZW50cyB0byBhZGQgZXZlbnQgbGlzdGVuZXJzXG4gIGlmIChbXCJpbnRlcnZhbFwiLCBcImRlYm91bmNlXCJdLmluZGV4T2YodGhpcy5vcHRpb25zLnN0cmF0ZWd5KSA+IC0xKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwiYmVvbi50cmFja2VyLmRpc3BhdGNoLmRvbmVcIixcbiAgICAgIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAodGhpcy5jYXJ0cG9vbCkge1xuICAgICAgICAgIHRoaXMubG9nKFwiY2FydCBwb29sIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZXZlbnRUeXBlID0gZXZlbnQuZGV0YWlsLmV2ZW50VHlwZTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBldmVudC5kZXRhaWwudHlwZTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgZXZlbnRUeXBlICE9IFwicGFnZXZpZXdcIiB8fFxuICAgICAgICAgIFtcImNhcnRcIiwgXCJ0cmFuc2FjdGlvblwiLCBcImNoZWNrb3V0XCJdLmluZGV4T2YoY29udGV4dCkgPiAtMVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLmxvZyhcInNraXAgY2FydCBwb29sIGF0IFwiICsgY29udGV4dCArIFwiIFwiICsgZXZlbnRUeXBlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhcnRwb29sID0gbmV3IHZ0ZXhDYXJ0UG9vbCh0aGlzLm9wdGlvbnMpO1xuICAgICAgICB0aGlzLmxvZyhcImNhcnRQb29sIGluaXQgd2l0aCBcIiArIHRoaXMub3B0aW9ucy5zdHJhdGVneSArIFwiIHN0cmF0ZWd5XCIpO1xuICAgICAgfS5iaW5kKHRoaXMpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmNhcnRwb29sID0gbmV3IHZ0ZXhDYXJ0UG9vbCh0aGlzLm9wdGlvbnMpO1xuICB9XG5cbiAgLy8gcmV0dXJuIGNhcnRwb29sIGluc3RhbmNlXG4gIHJldHVybiB0aGlzLmNhcnRwb29sO1xufTtcblxudmFyIHZ0ZXhDYXJ0UG9vbCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIHRoaXMudmVyc2lvbiA9IFwiMC4yLjFcIjtcblxuICB0aGlzLmFwaSA9XG4gICAgXCIvYXBpL2NoZWNrb3V0L3B1Yi9vcmRlckZvcm0vP3slMjJleHBlY3RlZE9yZGVyRm9ybVNlY3Rpb25zJTIyOlslMjJjbGllbnRQcm9maWxlRGF0YSUyMiwlMjJjbGllbnRQcmVmZXJlbmNlc0RhdGElMjIsJTIyaXRlbXMlMjJdfVwiO1xuICB0aGlzLnJlcXVlc3QgPSBudWxsO1xuXG4gIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAvLyBpZiB0cnVlLCB0cmFjayBjYXJ0IG9uIGluaXRpYWxpemF0aW9uXG4gICAgaW1tZWRpYXRlOiBmYWxzZSxcbiAgICAvLyBub25lIHwgZGVib3VuY2UgfCBpbnRlcnZhbFxuICAgIHN0cmF0ZWd5OiBcIm5vbmVcIixcbiAgICBpbnRlcnZhbERlbGF5OiAtMSxcbiAgICBkZWJvdW5jZURlbGF5OiAtMSxcbiAgfTtcblxuICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICBzd2l0Y2ggKHRoaXMub3B0aW9ucy5zdHJhdGVneSkge1xuICAgIGNhc2UgXCJkZWJvdW5jZVwiOlxuICAgICAgdGhpcy5kZWJvdW5jZSgpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImludGVydmFsXCI6XG4gICAgICB0aGlzLmludGVydmFsKCk7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxudnRleENhcnRQb29sLnByb3RvdHlwZS5idWlsZFJlcXVlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIHJlcXVlc3Qub3BlbihcIkdFVFwiLCB0aGlzLmFwaSk7XG4gIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG5cbiAgdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdDtcbn07XG5cbnZ0ZXhDYXJ0UG9vbC5wcm90b3R5cGUuZmV0Y2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgaWYgKHRoaXMuZXJyb3IpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB0aGlzLmJ1aWxkUmVxdWVzdCgpO1xuICB0aGlzLnJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBcImxvYWRcIixcbiAgICBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciByZXF1ZXN0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgdmFyIHJlc3BvbnNlO1xuXG4gICAgICBpZiAocmVxdWVzdC5yZWFkeVN0YXRlIDwgNCB8fCByZXF1ZXN0LnN0YXR1cyA+IDIwMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJyZXF1ZXN0IGZhaWxlZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2UpO1xuXG4gICAgICBjYWxsYmFjayhyZXNwb25zZSk7XG4gICAgfS5iaW5kKHRoaXMpXG4gICk7XG5cbiAgdmFyIHRyaXAgPSB0aGlzLnJlcXVlc3Quc2VuZCgpO1xuICByZXR1cm4gdHJpcDtcbn07XG5cbnZ0ZXhDYXJ0UG9vbC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgdmFyIGNhcnQgPSB7IHNoaXBwaW5nOiB7fSwgaXRlbXM6IFtdIH07XG4gIHZhciBjdXN0b21lciA9IHt9O1xuXG4gIC8vIHBhcnNlIGl0ZW1zXG4gIGlmIChyZXNwb25zZS5pdGVtcyAmJiByZXNwb25zZS5pdGVtcy5sZW5ndGgpIHtcbiAgICBjYXJ0Lml0ZW1zID0gW107XG4gICAgZm9yICh2YXIgaSBpbiByZXNwb25zZS5pdGVtcykge1xuICAgICAgaWYgKCFyZXNwb25zZS5pdGVtc1tpXS5oYXNPd25Qcm9wZXJ0eShcInByb2R1Y3RJZFwiKSkgY29udGludWU7XG5cbiAgICAgIGNhcnQuaXRlbXMucHVzaCh7XG4gICAgICAgIHByb2R1Y3RfaWQ6IHJlc3BvbnNlLml0ZW1zW2ldLnByb2R1Y3RJZCxcbiAgICAgICAgc2t1OiByZXNwb25zZS5pdGVtc1tpXS5pZCxcbiAgICAgICAgcHJpY2VfdG86IHJlc3BvbnNlLml0ZW1zW2ldLnNlbGxpbmdQcmljZSAvIDEwMCxcbiAgICAgICAgcXR5OiByZXNwb25zZS5pdGVtc1tpXS5xdWFudGl0eSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIHBhcnNlIHNoaXBwaW5nIGRhdGFcbiAgaWYgKHJlc3BvbnNlLnNoaXBwaW5nRGF0YSAmJiByZXNwb25zZS5zaGlwcGluZ0RhdGEuYWRkcmVzcykge1xuICAgIGNhcnQuc2hpcHBpbmcucG9zdGNvZGUgPSByZXNwb25zZS5zaGlwcGluZ0RhdGEuYWRkcmVzcy5wb3N0YWxDb2RlO1xuICB9XG5cbiAgLy8gcGFyc2UgdG90YWxzIGRhdGFcbiAgaWYgKHJlc3BvbnNlLnRvdGFsaXplcnMpIHtcbiAgICBmb3IgKHZhciBpIGluIHJlc3BvbnNlLnRvdGFsaXplcnMpIHtcbiAgICAgIGlmIChyZXNwb25zZS50b3RhbGl6ZXJzW2ldLmlkID09IFwiSXRlbXNcIilcbiAgICAgICAgY2FydC5zdWJ0b3RhbCA9IHJlc3BvbnNlLnRvdGFsaXplcnNbaV0udmFsdWUgLyAxMDA7XG4gICAgICBpZiAocmVzcG9uc2UudG90YWxpemVyc1tpXS5pZCA9PSBcIlNoaXBwaW5nXCIpXG4gICAgICAgIGNhcnQuc2hpcHBpbmcucHJpY2UgPSByZXNwb25zZS50b3RhbGl6ZXJzW2ldLnZhbHVlIC8gMTAwO1xuICAgIH1cbiAgfVxuXG4gIC8vIHBhcnNlIGNvbnRhY3QgZGF0YVxuICBpZiAocmVzcG9uc2UuY2xpZW50UHJvZmlsZURhdGEgJiYgcmVzcG9uc2UuY2xpZW50UHJvZmlsZURhdGEuZW1haWwpIHtcbiAgICBjdXN0b21lci5lbWFpbCA9IHJlc3BvbnNlLmNsaWVudFByb2ZpbGVEYXRhLmVtYWlsO1xuICAgIGN1c3RvbWVyLnBob25lID0gcmVzcG9uc2UuY2xpZW50UHJvZmlsZURhdGEuaXNDb3Jwb3JhdGVcbiAgICAgID8gcmVzcG9uc2UuY2xpZW50UHJvZmlsZURhdGEuY29ycG9yYXRlUGhvbmVcbiAgICAgIDogcmVzcG9uc2UuY2xpZW50UHJvZmlsZURhdGEucGhvbmU7XG4gICAgY3VzdG9tZXIubmFtZSA9IHJlc3BvbnNlLmNsaWVudFByb2ZpbGVEYXRhLmlzQ29ycG9yYXRlXG4gICAgICA/IHJlc3BvbnNlLmNsaWVudFByb2ZpbGVEYXRhLmNvcnBvcmF0ZU5hbWVcbiAgICAgIDogW1xuICAgICAgICAgIHJlc3BvbnNlLmNsaWVudFByb2ZpbGVEYXRhLmZpcnN0TmFtZSxcbiAgICAgICAgICByZXNwb25zZS5jbGllbnRQcm9maWxlRGF0YS5sYXN0TmFtZSxcbiAgICAgICAgXS5qb2luKFwiIFwiKTtcbiAgfVxuXG4gIHJldHVybiB7IGNhcnQ6IGNhcnQsIGN1c3RvbWVyOiBjdXN0b21lciB9O1xufTtcblxuLyoqXG4gKiBwYXJzZSBhbmQgcHVzaCBmZXRjaCByZXNwb25zZXMuXG4gKiB1c2Ugd2l0aCBkZWJvdW5jZSBvciBpbnRlcnZhbCBzdHJhdGVnaWVzXG4gKiB0byBoYW5kbGUgcmVzcG9uc2VzIGFuZCBzZW5kIHRvIG91ciBhcGkuXG4gKi9cbnZ0ZXhDYXJ0UG9vbC5wcm90b3R5cGUucGFyc2VBbmRQdXNoID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gIHZhciBwYXJzZWQgPSB0aGlzLnBhcnNlKHJlc3BvbnNlKTtcbiAgdmFyIHB1c2ggPSBbXTtcblxuICBpZiAocGFyc2VkICYmIHBhcnNlZC5jYXJ0KSB7XG4gICAgcHVzaC5wdXNoKFtcbiAgICAgIFwidHJhY2tcIixcbiAgICAgIFwiY2FydFwiLFxuICAgICAgbnVsbCxcbiAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlZC5jYXJ0O1xuICAgICAgfSxcbiAgICBdKTtcbiAgfVxuXG4gIGlmIChwYXJzZWQgJiYgcGFyc2VkLmN1c3RvbWVyKSB7XG4gICAgcHVzaC5wdXNoKFtcbiAgICAgIFwidHJhY2tcIixcbiAgICAgIFwiY3VzdG9tZXJcIixcbiAgICAgIG51bGwsXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBwYXJzZWQuY3VzdG9tZXI7XG4gICAgICB9LFxuICAgIF0pO1xuICB9XG5cbiAgaWYgKHdpbmRvdy5iZW9uKSB7XG4gICAgZm9yICh2YXIgaSA9IHB1c2gubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHdpbmRvdy5iZW9uLmFwcGx5KHdpbmRvdy5iZW9uLCBwdXNoW2ldKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogZmV0Y2ggYW5kIHBhcnNlIHZ0ZXggYXBpIHJlc3BvbnNlLlxuICogZGVmYXVsdCBjYWxsYmFjayBpcyBwYXJzZUFuZFB1c2ggbWV0aG9kLlxuICogaW4gc3RhbmRhbG9uZSBtb2RlIHlvdSBzaG91bGQgcGFzcyBhIGNhbGxiYWNrLlxuICpcbiAqIHJldHVybnMgdGhlIHRyaXAgaXRzZWxmIGlmIHlvdSB3b3VsZCBsaWtlIHRvIGhhbmRsZVxuICogdGhlIHJlc3BvbnNlIHlvdXJzZWxmLlxuICovXG52dGV4Q2FydFBvb2wucHJvdG90eXBlLmhhbmRsZUZldGNoID0gZnVuY3Rpb24gKHVzZXJDYWxsYmFjaykge1xuICBpZiAodGhpcy5lcnJvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBjYWxsYmFjayA9IHVzZXJDYWxsYmFjayB8fCB0aGlzLnBhcnNlQW5kUHVzaDtcblxuICB0cnkge1xuICAgIHZhciB0cmlwID0gdGhpcy5mZXRjaChjYWxsYmFjayk7XG4gICAgcmV0dXJuIHRyaXA7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgfVxufTtcblxudnRleENhcnRQb29sLnByb3RvdHlwZS5pbnRlcnZhbCA9IGZ1bmN0aW9uIChpbW1lZGlhdGUsIHRpbWVvdXQpIHtcbiAgaWYgKHRoaXMub3B0aW9ucy5pbW1lZGlhdGUpIHtcbiAgICB0aGlzLmhhbmRsZUZldGNoLmJpbmQodGhpcyk7XG4gIH1cblxuICB0aGlzLmludGVydmFsVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBoYW5kbGVTdGF0ZSA9IHRoaXMuaGFuZGxlRmV0Y2guYmluZCh0aGlzKTtcbiAgICAgIGlmIChoYW5kbGVTdGF0ZSkgdGhpcy5pbnRlcnZhbChpbW1lZGlhdGUsIHRpbWVvdXQpO1xuICAgIH0uYmluZCh0aGlzKSxcbiAgICB0aW1lb3V0IHx8IHRoaXMub3B0aW9ucy5pbnRlcnZhbERlbGF5XG4gICk7XG59O1xuXG52dGV4Q2FydFBvb2wucHJvdG90eXBlLmRlYm91bmNlID0gZnVuY3Rpb24gKGltbWVkaWF0ZSwgZGVsYXkpIHtcbiAgaWYgKHRoaXMub3B0aW9ucy5pbW1lZGlhdGUpIHtcbiAgICB0aGlzLmhhbmRsZUZldGNoLmJpbmQodGhpcyk7XG4gIH1cblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgIFwiY2xpY2tcIixcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5kZWJvdW5jZVRpbWVvdXQpIHtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLmRlYm91bmNlVGltZW91dCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZGVib3VuY2VUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoXG4gICAgICAgIHRoaXMuaGFuZGxlRmV0Y2guYmluZCh0aGlzKSxcbiAgICAgICAgZGVsYXkgfHwgdGhpcy5vcHRpb25zLmRlYm91bmNlRGVsYXlcbiAgICAgICk7XG4gICAgfS5iaW5kKHRoaXMpXG4gICk7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCBCZW9uQ3VzdG9tIGZyb20gXCIuLi8uLi9iYXNlL3NyYy9qcy9jb3JlL2N1c3RvbS9jdXN0b21cIjtcbmltcG9ydCBWdGV4UGFyc2VyIGZyb20gXCIuLi8uLi9iYXNlL3NyYy9qcy9jb3JlL3Y0L3RyYWNrL3BhcnNlci92dGV4XCI7XG5pbXBvcnQgVnRleFBsdWdpbiBmcm9tIFwiLi4vLi4vYmFzZS9zcmMvanMvY29yZS92NC90cmFjay9wbHVnaW4vdnRleFwiO1xuaW1wb3J0IE1hZ2ljZmxhZ0luaXRpYWxpemVyIGZyb20gXCIuLi8uLi9iYXNlL3NyYy9qcy9tYWdpY2ZsYWcvaW5pdFwiO1xuaW1wb3J0IENsb2NrSW5pdGlhbGl6ZXIgZnJvbSBcIi4uLy4uL2Jhc2Uvc3JjL2pzL2Nsb2NrL2luaXRcIjtcbmltcG9ydCBOb3RpZmljYXRpb25Jbml0aWFsaXplciBmcm9tIFwiLi4vLi4vYmFzZS9zcmMvanMvbm90aWZpY2F0aW9uL2luaXRcIjtcblxudmFyIHRyZWVJZENvbXBvc2UgPSAoc3RyKSA9PlxuICBzdHJcbiAgICAudG9Mb3dlckNhc2UoKVxuICAgIC5yZXBsYWNlKC9cXHMvZ2ksIFwiX1wiKVxuICAgIC5yZXBsYWNlKC8oW1xceEUwLVxceEZGXSkvZ2ksIChpbnB1dCkgPT4ge1xuICAgICAgY29uc3QgY2hhcmxpc3QgPSBbXG4gICAgICAgIFsvW1xceEUwLVxceEU2XS9nLCBcImFcIl0sXG4gICAgICAgIFsvW1xceEU4LVxceEVCXS9nLCBcImVcIl0sXG4gICAgICAgIFsvW1xceEVDLVxceEVGXS9nLCBcImlcIl0sXG4gICAgICAgIFsvW1xceEYyLVxceEY2XS9nLCBcIm9cIl0sXG4gICAgICAgIFsvW1xceEY5LVxceEZDXS9nLCBcInVcIl0sXG4gICAgICAgIFsvXFx4RTcvZywgXCJjXCJdLFxuICAgICAgICBbL1xceEYxL2csIFwiblwiXSxcbiAgICAgIF07XG4gICAgICBjb25zdCBmb3VuZCA9IGNoYXJsaXN0LmZpbmQoKG0pID0+IG1bMF0udGVzdChpbnB1dCkpO1xuICAgICAgcmV0dXJuIGZvdW5kID8gZm91bmRbMV0gOiBpbnB1dDtcbiAgICB9KVxuICAgIC5yZXBsYWNlKC9cXFcvZ2ksIFwiXCIpO1xuXG52YXIgQ3VzdG9tSW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gIG5ldyBWdGV4UGx1Z2luKCk7XG5cbiAgQmVvbkN1c3RvbS5jYWxsKHRoaXMpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuQ3VzdG9tSW5zdGFuY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShCZW9uQ3VzdG9tLnByb3RvdHlwZSk7XG5DdXN0b21JbnN0YW5jZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDdXN0b21JbnN0YW5jZTtcblxuQ3VzdG9tSW5zdGFuY2UucHJvdG90eXBlLmluaXRQYXJzZXIgPSBmdW5jdGlvbiAoKSB7XG4gIEJlb25DdXN0b20ucHJvdG90eXBlLmluaXRQYXJzZXIuY2FsbCh0aGlzLCBuZXcgVnRleFBhcnNlcigpKTtcblxuICB0aGlzLnBhcnNlci5wYXJzZVByb2R1Y3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHByb2R1Y3QgPSB7XG4gICAgICBwYXRobmFtZTogdW5kZWZpbmVkLFxuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgLy8gYnVzY2FyIHBhdGhuYW1lIG5hIGNhbm9uaWNhbFxuICAgICAgdmFyIHNvdXJjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJsaW5rW3JlbD1jYW5vbmljYWxdXCIpO1xuXG4gICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG5cbiAgICAgIHZhciBjYW5vbmljYWwgPSBzb3VyY2UuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcbiAgICAgIHZhciBwYXRoID0gY2Fub25pY2FsLnJlcGxhY2Uod2luZG93LmxvY2F0aW9uLm9yaWdpbiwgXCJcIik7XG5cbiAgICAgIHByb2R1Y3QucGF0aG5hbWUgPSBwYXRoO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUud2FybihgcHJvZHVjdCBwYXJzZSBmYWlsZWQgd2l0aCAke2UubWVzc2FnZX1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvZHVjdDtcbiAgfTtcblxuICAvLyB0aGlzLnBhcnNlci5wYXJzZUNhdGFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gIC8vICAgdmFyIHRyZWVzID0gW107XG5cbiAgLy8gICB0cnkge1xuICAvLyAgICAgdmFyIGJvZHlDbGFzc2VzID0gZG9jdW1lbnQuYm9keS5jbGFzc05hbWU7XG4gIC8vICAgICB2YXIgcGF0aG5hbWUgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XG5cbiAgLy8gICAgIGlmICgvbWFyY2EvaS50ZXN0KGJvZHlDbGFzc2VzKSkge1xuICAvLyAgICAgICBpZiAocGF0aG5hbWUgPT09IFwiZXhwZXJpZW5jaWEtZGFya1wiKSB7XG4gIC8vICAgICAgICAgdHJlZXMucHVzaCh7XG4gIC8vICAgICAgICAgICBraW5kOiBcImRlcGFydG1lbnRcIixcbiAgLy8gICAgICAgICAgIHRyZWVfaWQ6IFwiZXhwZXJpZW5jaWFfZGFya1wiLFxuICAvLyAgICAgICAgIH0pO1xuICAvLyAgICAgICB9IGVsc2Uge1xuICAvLyAgICAgICAgIHRyZWVzLnB1c2goe1xuICAvLyAgICAgICAgICAga2luZDogXCJicmFuZFwiLFxuICAvLyAgICAgICAgICAgdHJlZV9pZDogcGF0aG5hbWUucmVwbGFjZShcIi9cIiwgXCJcIiksXG4gIC8vICAgICAgICAgfSk7XG5cbiAgLy8gICAgICAgICB0cmVlcy5wdXNoKHtcbiAgLy8gICAgICAgICAgIGtpbmQ6IFwiZGVwYXJ0bWVudFwiLFxuICAvLyAgICAgICAgICAgdHJlZV9pZDogXCJsaXZyb3NcIixcbiAgLy8gICAgICAgICB9KTtcbiAgLy8gICAgICAgfVxuICAvLyAgICAgfSBlbHNlIGlmICgvKHJlc3VsdGFkby1idXNjYXxjYXRlZ29yaWEpL2kudGVzdChib2R5Q2xhc3NlcykpIHtcbiAgLy8gICAgICAgdHJlZXMucHVzaCh7XG4gIC8vICAgICAgICAga2luZDogXCJkZXBhcnRtZW50XCIsXG4gIC8vICAgICAgICAgdHJlZV9pZDogXCJsaXZyb3NcIixcbiAgLy8gICAgICAgfSk7XG4gIC8vICAgICB9XG4gIC8vICAgfSBjYXRjaCAoZSkge1xuICAvLyAgICAgY29uc29sZS53YXJuKGBjYXRhbG9nIHBhcnNlIGZhaWxlZCB3aXRoICR7ZS5tZXNzYWdlfWApO1xuICAvLyAgIH1cblxuICAvLyAgIHJldHVybiB7IHRyZWVzOiB0cmVlcyB9O1xuICAvLyB9O1xuXG4gIHJldHVybiB0aGlzLnBhcnNlcjtcbn07XG5cbkN1c3RvbUluc3RhbmNlLnByb3RvdHlwZS5pbml0Q3VzdG9tVHJpZ2dlcnMgPSBmdW5jdGlvbiAoKSB7XG4gIEJlb25DdXN0b20ucHJvdG90eXBlLmluaXRDdXN0b21UcmlnZ2Vycy5jYWxsKHRoaXMpO1xuXG4gIG5ldyBNYWdpY2ZsYWdJbml0aWFsaXplcigpO1xuICBuZXcgQ2xvY2tJbml0aWFsaXplcigpO1xuICBuZXcgTm90aWZpY2F0aW9uSW5pdGlhbGl6ZXIoKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbndpbmRvdy5iZW9uX2N1c3RvbSA9IG5ldyBDdXN0b21JbnN0YW5jZSgpO1xud2luZG93LmJlb25fY3VzdG9tLmluaXQoKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=