(()=>{"use strict";var t=function(t,e){return this.root=t,this.config=Object.assign({prizeStyle:"modal"},e),this.init(),this};t.prototype.init=function(){this.root.className=this.root.className+" initialized",this.updatePrize(),this.bindTrigger(),this.bindDismiss()},t.prototype.bindTrigger=function(){var t=this.root.querySelector(".beon-easteregg__trigger-container");if(!t)throw new Error("trigger not found");t.addEventListener("click",this.handleTrigger.bind(this))},t.prototype.handleTrigger=function(){this.step?1===this.step&&this.changeStep(0):this.changeStep(1)},t.prototype.bindDismiss=function(){var t=this.root.querySelector(".beon-easteregg__dismiss");t&&t.addEventListener("click",this.handleDismiss.bind(this))},t.prototype.handleDismiss=function(){this.changeStep(0)},t.prototype.updatePrize=function(){var t=this.root.querySelector(".beon-easteregg__prize");this.config.prizeStyle&&(t.className+=" beon-easteregg__prize--"+this.config.prizeStyle),this.hidePrize()},t.prototype.showPrize=function(){this.hidePrize(),this.root.querySelector(".beon-easteregg__prize").className+=" opened"},t.prototype.hidePrize=function(){var t=this.root.querySelector(".beon-easteregg__prize");if(!t)throw new Error("prize not found");t.className=t.className.replace(/( opened)/gi,"")},t.prototype.changeStep=function(t){0===t?this.hidePrize():1===t&&this.showPrize(),this.step=t};const e=t;var i=function(){this.componentRootSelector=".beon-easteregg",this.initComponents(),this.bindEvents()};i.prototype.bindEvents=function(){document.addEventListener("DOMContentLoaded",this.initComponents.bind(this)),document.addEventListener("beon.buddy.elements.handle.item.inject.success",this.initComponentFromInjection.bind(this)),document.addEventListener("beon.buddy.inject.after",this.initComponentFromInjection.bind(this))},i.prototype.initComponents=function(){var t=document.querySelectorAll(this.componentRootSelector+":not(.initialized)");Array.prototype.slice.call(t).forEach(function(t){this.initComponent(t)}.bind(this))},i.prototype.initComponentFromInjection=function(t){var e=t.detail.container.querySelector(this.componentRootSelector+":not(.initialized)");e&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){this.initComponent(e)}.bind(this)):this.initComponent(e))},i.prototype.initComponent=function(t){try{var i=t.getAttribute("data-config"),n=JSON.parse(i);new e(t,n)}catch(t){console.log("failed to build component "+this.componentRootSelector,t)}},window&&(window.BeonEasterEggInitializer=i)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibi50ZW5hbnQuY3VzdG9tLmJhc2UvLi9zcmMvYmFzZS9zcmMvanMvZWFzdGVyZWdnL2Vhc3RlcmVnZy5qcyIsIndlYnBhY2s6Ly9ibi50ZW5hbnQuY3VzdG9tLmJhc2UvLi9zcmMvYmFzZS9zcmMvanMvZWFzdGVyZWdnL2luaXQuanMiXSwibmFtZXMiOlsiRWFzdGVyRWdnQ29tcG9uZW50Iiwicm9vdCIsImNvbmZpZyIsInRoaXMiLCJPYmplY3QiLCJhc3NpZ24iLCJwcml6ZVN0eWxlIiwiaW5pdCIsInByb3RvdHlwZSIsImNsYXNzTmFtZSIsInVwZGF0ZVByaXplIiwiYmluZFRyaWdnZXIiLCJiaW5kRGlzbWlzcyIsInRyaWdnZXIiLCJxdWVyeVNlbGVjdG9yIiwiRXJyb3IiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlVHJpZ2dlciIsImJpbmQiLCJzdGVwIiwiY2hhbmdlU3RlcCIsImhhbmRsZURpc21pc3MiLCJwcml6ZSIsImhpZGVQcml6ZSIsInNob3dQcml6ZSIsInJlcGxhY2UiLCJ0b1N0ZXAiLCJFYXN0ZXJFZ2dJbml0aWFsaXplciIsImNvbXBvbmVudFJvb3RTZWxlY3RvciIsImluaXRDb21wb25lbnRzIiwiYmluZEV2ZW50cyIsImRvY3VtZW50IiwiaW5pdENvbXBvbmVudEZyb21JbmplY3Rpb24iLCJjb21wb25lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsIkFycmF5Iiwic2xpY2UiLCJjYWxsIiwiZm9yRWFjaCIsImluaXRDb21wb25lbnQiLCJldmVudCIsImRldGFpbCIsImNvbnRhaW5lciIsInJlYWR5U3RhdGUiLCJyYXdDb25maWciLCJnZXRBdHRyaWJ1dGUiLCJKU09OIiwicGFyc2UiLCJlIiwiY29uc29sZSIsImxvZyIsIndpbmRvdyIsIkJlb25FYXN0ZXJFZ2dJbml0aWFsaXplciJdLCJtYXBwaW5ncyI6Im1CQUFBLElBQUlBLEVBQXFCLFNBQVNDLEVBQU1DLEdBWXRDLE9BWEFDLEtBQUtGLEtBQU9BLEVBRVpFLEtBQUtELE9BQVNFLE9BQU9DLE9BQ25CLENBQ0VDLFdBQVksU0FFZEosR0FHRkMsS0FBS0ksT0FFRUosTUFHVEgsRUFBbUJRLFVBQVVELEtBQU8sV0FDbENKLEtBQUtGLEtBQUtRLFVBQVlOLEtBQUtGLEtBQUtRLFVBQVksZUFFNUNOLEtBQUtPLGNBQ0xQLEtBQUtRLGNBQ0xSLEtBQUtTLGVBSVBaLEVBQW1CUSxVQUFVRyxZQUFjLFdBQ3pDLElBQUlFLEVBQVVWLEtBQUtGLEtBQUthLGNBQWMsc0NBRXRDLElBQUtELEVBQ0gsTUFBTSxJQUFJRSxNQUFNLHFCQUdsQkYsRUFBUUcsaUJBQWlCLFFBQVNiLEtBQUtjLGNBQWNDLEtBQUtmLFFBSTVESCxFQUFtQlEsVUFBVVMsY0FBZ0IsV0FDdENkLEtBQUtnQixLQUVlLElBQWRoQixLQUFLZ0IsTUFDZGhCLEtBQUtpQixXQUFXLEdBRmhCakIsS0FBS2lCLFdBQVcsSUFPcEJwQixFQUFtQlEsVUFBVUksWUFBYyxXQUN6QyxJQUFJQyxFQUFVVixLQUFLRixLQUFLYSxjQUFjLDRCQUVsQ0QsR0FDRkEsRUFBUUcsaUJBQWlCLFFBQVNiLEtBQUtrQixjQUFjSCxLQUFLZixRQUs5REgsRUFBbUJRLFVBQVVhLGNBQWdCLFdBQzNDbEIsS0FBS2lCLFdBQVcsSUFJbEJwQixFQUFtQlEsVUFBVUUsWUFBYyxXQUN6QyxJQUFJWSxFQUFRbkIsS0FBS0YsS0FBS2EsY0FBYywwQkFFaENYLEtBQUtELE9BQU9JLGFBQ2RnQixFQUFNYixXQUFhLDJCQUE2Qk4sS0FBS0QsT0FBT0ksWUFJOURILEtBQUtvQixhQUlQdkIsRUFBbUJRLFVBQVVnQixVQUFZLFdBRXZDckIsS0FBS29CLFlBRU9wQixLQUFLRixLQUFLYSxjQUFjLDBCQUM5QkwsV0FBYSxXQUlyQlQsRUFBbUJRLFVBQVVlLFVBQVksV0FDdkMsSUFBSUQsRUFBUW5CLEtBQUtGLEtBQUthLGNBQWMsMEJBRXBDLElBQUtRLEVBQ0gsTUFBTSxJQUFJUCxNQUFNLG1CQUdsQk8sRUFBTWIsVUFBWWEsRUFBTWIsVUFBVWdCLFFBQVEsY0FBZSxLQUkzRHpCLEVBQW1CUSxVQUFVWSxXQUFhLFNBQVNNLEdBQ2xDLElBQVhBLEVBQ0Z2QixLQUFLb0IsWUFDZSxJQUFYRyxHQUNUdkIsS0FBS3FCLFlBR1ByQixLQUFLZ0IsS0FBT08sR0FHZCxVQy9GQSxJQUFJQyxFQUF1QixXQUN6QnhCLEtBQUt5QixzQkFBd0Isa0JBRzdCekIsS0FBSzBCLGlCQUdMMUIsS0FBSzJCLGNBS1BILEVBQXFCbkIsVUFBVXNCLFdBQWEsV0FDMUNDLFNBQVNmLGlCQUFpQixtQkFBb0JiLEtBQUswQixlQUFlWCxLQUFLZixPQUN2RTRCLFNBQVNmLGlCQUNQLGlEQUNBYixLQUFLNkIsMkJBQTJCZCxLQUFLZixPQUV2QzRCLFNBQVNmLGlCQUNQLDBCQUNBYixLQUFLNkIsMkJBQTJCZCxLQUFLZixRQUl6Q3dCLEVBQXFCbkIsVUFBVXFCLGVBQWlCLFdBQzlDLElBQUlJLEVBQWFGLFNBQVNHLGlCQUN4Qi9CLEtBQUt5QixzQkFBd0Isc0JBRy9CTyxNQUFNM0IsVUFBVTRCLE1BQU1DLEtBQUtKLEdBQVlLLFFBQ3JDLFNBQVNyQyxHQUNQRSxLQUFLb0MsY0FBY3RDLElBQ25CaUIsS0FBS2YsUUFJWHdCLEVBQXFCbkIsVUFBVXdCLDJCQUE2QixTQUFTUSxHQUNuRSxJQUNJdkMsRUFEWXVDLEVBQU1DLE9BQU9DLFVBQ1I1QixjQUNuQlgsS0FBS3lCLHNCQUF3QixzQkFHM0IzQixJQUMwQixZQUF4QjhCLFNBQVNZLFdBQ1haLFNBQVNmLGlCQUNQLG1CQUNBLFdBQ0ViLEtBQUtvQyxjQUFjdEMsSUFDbkJpQixLQUFLZixPQUdUQSxLQUFLb0MsY0FBY3RDLEtBS3pCMEIsRUFBcUJuQixVQUFVK0IsY0FBZ0IsU0FBU3RDLEdBQ3RELElBQ0UsSUFBSTJDLEVBQVkzQyxFQUFLNEMsYUFBYSxlQUM5QjNDLEVBQVM0QyxLQUFLQyxNQUFNSCxHQUV4QixJQUFJLEVBQW1CM0MsRUFBTUMsR0FDN0IsTUFBTzhDLEdBQ1BDLFFBQVFDLElBQUksNkJBQStCL0MsS0FBS3lCLHNCQUF1Qm9CLEtBS3JFRyxTQUFRQSxPQUFPQyx5QkFBMkJ6QixJIiwiZmlsZSI6ImJhc2UvY29yZS9qcy9lYXN0ZXJlZ2cuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgRWFzdGVyRWdnQ29tcG9uZW50ID0gZnVuY3Rpb24ocm9vdCwgY29uZmlnKSB7XG4gIHRoaXMucm9vdCA9IHJvb3Q7XG5cbiAgdGhpcy5jb25maWcgPSBPYmplY3QuYXNzaWduKFxuICAgIHtcbiAgICAgIHByaXplU3R5bGU6IFwibW9kYWxcIlxuICAgIH0sXG4gICAgY29uZmlnXG4gICk7XG5cbiAgdGhpcy5pbml0KCk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FYXN0ZXJFZ2dDb21wb25lbnQucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5yb290LmNsYXNzTmFtZSA9IHRoaXMucm9vdC5jbGFzc05hbWUgKyBcIiBpbml0aWFsaXplZFwiO1xuXG4gIHRoaXMudXBkYXRlUHJpemUoKTtcbiAgdGhpcy5iaW5kVHJpZ2dlcigpO1xuICB0aGlzLmJpbmREaXNtaXNzKCk7XG59O1xuXG4vLyBiaW5kVHJpZ2dlclxuRWFzdGVyRWdnQ29tcG9uZW50LnByb3RvdHlwZS5iaW5kVHJpZ2dlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgdHJpZ2dlciA9IHRoaXMucm9vdC5xdWVyeVNlbGVjdG9yKFwiLmJlb24tZWFzdGVyZWdnX190cmlnZ2VyLWNvbnRhaW5lclwiKTtcblxuICBpZiAoIXRyaWdnZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYHRyaWdnZXIgbm90IGZvdW5kYCk7XG4gIH1cblxuICB0cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhhbmRsZVRyaWdnZXIuYmluZCh0aGlzKSk7XG59O1xuXG4vLyBoYW5kbGVUcmlnZ2VyXG5FYXN0ZXJFZ2dDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVRyaWdnZXIgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLnN0ZXApIHtcbiAgICB0aGlzLmNoYW5nZVN0ZXAoMSk7XG4gIH0gZWxzZSBpZiAodGhpcy5zdGVwID09PSAxKSB7XG4gICAgdGhpcy5jaGFuZ2VTdGVwKDApO1xuICB9XG59O1xuXG4vLyBiaW5kRGlzbWlzc1xuRWFzdGVyRWdnQ29tcG9uZW50LnByb3RvdHlwZS5iaW5kRGlzbWlzcyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgdHJpZ2dlciA9IHRoaXMucm9vdC5xdWVyeVNlbGVjdG9yKFwiLmJlb24tZWFzdGVyZWdnX19kaXNtaXNzXCIpO1xuXG4gIGlmICh0cmlnZ2VyKSB7XG4gICAgdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5oYW5kbGVEaXNtaXNzLmJpbmQodGhpcykpO1xuICB9XG59O1xuXG4vLyBoYW5kbGVEaXNtaXNzXG5FYXN0ZXJFZ2dDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZURpc21pc3MgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jaGFuZ2VTdGVwKDApO1xufTtcblxuLy8gdXBkYXRlUHJpemVcbkVhc3RlckVnZ0NvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlUHJpemUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHByaXplID0gdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3IoXCIuYmVvbi1lYXN0ZXJlZ2dfX3ByaXplXCIpO1xuXG4gIGlmICh0aGlzLmNvbmZpZy5wcml6ZVN0eWxlKSB7XG4gICAgcHJpemUuY2xhc3NOYW1lICs9IFwiIGJlb24tZWFzdGVyZWdnX19wcml6ZS0tXCIgKyB0aGlzLmNvbmZpZy5wcml6ZVN0eWxlO1xuICB9XG5cbiAgLy8gaW5pdGlhbGl6ZSBwcml6ZSBhcyBoaWRkZW5cbiAgdGhpcy5oaWRlUHJpemUoKTtcbn07XG5cbi8vIHNob3dQcml6ZVxuRWFzdGVyRWdnQ29tcG9uZW50LnByb3RvdHlwZS5zaG93UHJpemUgPSBmdW5jdGlvbigpIHtcbiAgLy8gaGlkZSBhbHJlYWR5IG9wZW5lZFxuICB0aGlzLmhpZGVQcml6ZSgpO1xuXG4gIHZhciBwcml6ZSA9IHRoaXMucm9vdC5xdWVyeVNlbGVjdG9yKFwiLmJlb24tZWFzdGVyZWdnX19wcml6ZVwiKTtcbiAgcHJpemUuY2xhc3NOYW1lICs9IFwiIG9wZW5lZFwiO1xufTtcblxuLy8gaGlkZVByaXplXG5FYXN0ZXJFZ2dDb21wb25lbnQucHJvdG90eXBlLmhpZGVQcml6ZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcHJpemUgPSB0aGlzLnJvb3QucXVlcnlTZWxlY3RvcihcIi5iZW9uLWVhc3RlcmVnZ19fcHJpemVcIik7XG5cbiAgaWYgKCFwcml6ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgcHJpemUgbm90IGZvdW5kYCk7XG4gIH1cblxuICBwcml6ZS5jbGFzc05hbWUgPSBwcml6ZS5jbGFzc05hbWUucmVwbGFjZSgvKCBvcGVuZWQpL2dpLCBcIlwiKTtcbn07XG5cbi8vIGNoYW5nZSBjb21wb25lbnQgc3RlcFxuRWFzdGVyRWdnQ29tcG9uZW50LnByb3RvdHlwZS5jaGFuZ2VTdGVwID0gZnVuY3Rpb24odG9TdGVwKSB7XG4gIGlmICh0b1N0ZXAgPT09IDApIHtcbiAgICB0aGlzLmhpZGVQcml6ZSgpO1xuICB9IGVsc2UgaWYgKHRvU3RlcCA9PT0gMSkge1xuICAgIHRoaXMuc2hvd1ByaXplKCk7XG4gIH1cblxuICB0aGlzLnN0ZXAgPSB0b1N0ZXA7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBFYXN0ZXJFZ2dDb21wb25lbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLy8gdmFyIHNsaWRlciA9IHJlcXVpcmUoXCIuL3NsaWRlclwiKTtcbmltcG9ydCBFYXN0ZXJFZ2dDb21wb25lbnQgZnJvbSBcIi4vZWFzdGVyZWdnXCI7XG5cbnZhciBFYXN0ZXJFZ2dJbml0aWFsaXplciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNvbXBvbmVudFJvb3RTZWxlY3RvciA9IFwiLmJlb24tZWFzdGVyZWdnXCI7XG5cbiAgLy8gaW5pdGlhbGl6ZSBzbGlkZXJzIGFscmVhZHkgb24gcGFnZVxuICB0aGlzLmluaXRDb21wb25lbnRzKCk7XG5cbiAgLy8gYmluZCBldmVudHMgdG8gaW5pdGlhbGl6ZSBzbGlkZXJzIHJlYWwgdGltZVxuICB0aGlzLmJpbmRFdmVudHMoKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEVhc3RlckVnZ0luaXRpYWxpemVyO1xuXG5FYXN0ZXJFZ2dJbml0aWFsaXplci5wcm90b3R5cGUuYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCB0aGlzLmluaXRDb21wb25lbnRzLmJpbmQodGhpcykpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgIFwiYmVvbi5idWRkeS5lbGVtZW50cy5oYW5kbGUuaXRlbS5pbmplY3Quc3VjY2Vzc1wiLFxuICAgIHRoaXMuaW5pdENvbXBvbmVudEZyb21JbmplY3Rpb24uYmluZCh0aGlzKVxuICApO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgIFwiYmVvbi5idWRkeS5pbmplY3QuYWZ0ZXJcIixcbiAgICB0aGlzLmluaXRDb21wb25lbnRGcm9tSW5qZWN0aW9uLmJpbmQodGhpcylcbiAgKTtcbn07XG5cbkVhc3RlckVnZ0luaXRpYWxpemVyLnByb3RvdHlwZS5pbml0Q29tcG9uZW50cyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY29tcG9uZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgdGhpcy5jb21wb25lbnRSb290U2VsZWN0b3IgKyBcIjpub3QoLmluaXRpYWxpemVkKVwiXG4gICk7XG5cbiAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoY29tcG9uZW50cykuZm9yRWFjaChcbiAgICBmdW5jdGlvbihyb290KSB7XG4gICAgICB0aGlzLmluaXRDb21wb25lbnQocm9vdCk7XG4gICAgfS5iaW5kKHRoaXMpXG4gICk7XG59O1xuXG5FYXN0ZXJFZ2dJbml0aWFsaXplci5wcm90b3R5cGUuaW5pdENvbXBvbmVudEZyb21JbmplY3Rpb24gPSBmdW5jdGlvbihldmVudCkge1xuICB2YXIgY29udGFpbmVyID0gZXZlbnQuZGV0YWlsLmNvbnRhaW5lcjtcbiAgdmFyIHJvb3QgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcihcbiAgICB0aGlzLmNvbXBvbmVudFJvb3RTZWxlY3RvciArIFwiOm5vdCguaW5pdGlhbGl6ZWQpXCJcbiAgKTtcblxuICBpZiAocm9vdCkge1xuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImxvYWRpbmdcIikge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJET01Db250ZW50TG9hZGVkXCIsXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRoaXMuaW5pdENvbXBvbmVudChyb290KTtcbiAgICAgICAgfS5iaW5kKHRoaXMpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRDb21wb25lbnQocm9vdCk7XG4gICAgfVxuICB9XG59O1xuXG5FYXN0ZXJFZ2dJbml0aWFsaXplci5wcm90b3R5cGUuaW5pdENvbXBvbmVudCA9IGZ1bmN0aW9uKHJvb3QpIHtcbiAgdHJ5IHtcbiAgICB2YXIgcmF3Q29uZmlnID0gcm9vdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbmZpZ1wiKTtcbiAgICB2YXIgY29uZmlnID0gSlNPTi5wYXJzZShyYXdDb25maWcpO1xuXG4gICAgbmV3IEVhc3RlckVnZ0NvbXBvbmVudChyb290LCBjb25maWcpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coXCJmYWlsZWQgdG8gYnVpbGQgY29tcG9uZW50IFwiICsgdGhpcy5jb21wb25lbnRSb290U2VsZWN0b3IsIGUpO1xuICB9XG59O1xuXG4oZnVuY3Rpb24oKSB7XG4gIGlmICh3aW5kb3cpIHdpbmRvdy5CZW9uRWFzdGVyRWdnSW5pdGlhbGl6ZXIgPSBFYXN0ZXJFZ2dJbml0aWFsaXplcjtcbn0pKCk7XG4iXSwic291cmNlUm9vdCI6IiJ9